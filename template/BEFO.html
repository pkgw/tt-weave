<!DOCTYPE html>
<html lang="en" class="sidebar-visible no-js">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <title></title>
  <link rel="stylesheet" href="tdux-style.css">
</head>

<body>
  <!-- Work around some values being stored in localStorage wrapped in quotes -->
  <script type="text/javascript">
    try {
      var sidebar = localStorage.getItem('tdux-sidebar');
      if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
        localStorage.setItem('tdux-sidebar', sidebar.slice(1, sidebar.length - 1));
      }
    } catch (e) { }
  </script>

  <!-- Hide / unhide sidebar before it is displayed -->
  <script type="text/javascript">
    var html = document.querySelector('html');
    var sidebar = 'hidden';
    if (document.body.clientWidth >= 1080) {
      try { sidebar = localStorage.getItem('tdux-sidebar'); } catch (e) { }
      sidebar = sidebar || 'visible';
    }
    html.classList.remove('sidebar-visible');
    html.classList.add("sidebar-" + sidebar);
  </script>

  <nav id="sidebar" class="sidebar" aria-label="Sidebar">
    <div class="sidebar-scrollbox">
      
    </div>
    <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
  </nav>

  <div id="page-wrapper" class="page-wrapper">
    <div class="page">
      <div id="menu-bar-hover-placeholder"></div>
      <div id="menu-bar" class="menu-bar sticky bordered">
        <div class="left-buttons">
          <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Sidebar"
            aria-label="Toggle Sidebar" aria-controls="sidebar">
            <i class="fa fa-bars"></i>
          </button>
        </div>

        <h1 class="menu-title">Demo Title</h1>
      </div>

      <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
      <script type="text/javascript">
        document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
        document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
        Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
          link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
        });
      </script>

      <div id="content" class="content">
        <main>
          <section class="ttweave-first"> <p>1. Introduction. This program converts a WEB file to a <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  file. It was written by D. E. Knuth in October, 1981; a somewhat similar SAIL program had been developed in March, 1979, although the earlier program used a top-down parsing method that is quite different from the present scheme.</p> <p>The code uses a few features of the local Pascal  compiler that may need to be changed in other installations:</p> <p>1) Case statements have a default.</p> <p>2) Input-output routines may need to be adapted for use with a particular character set and/or for printing messages on the user’s terminal.</p> <p>These features are also present in the Pascal  version of <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>, where they are used in a similar (but more complex) way. System-dependent portions of WEAVE can be identified by looking at the entries for ‘system dependencies’ in the index below.</p> <p>The “banner line” defined here should be changed whenever WEAVE is modified.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  banner  =  "This  is  WEAVE,  Version  4.5"</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>2. The program begins with a fairly normal header, made up of pieces that will mostly be filled in later. The WEB input comes from files <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">web_file</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">change_file</span></code> , and the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  output goes to file <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tex_file</span></code> .</p> <p>If it is necessary to abort the job because of a fatal error, the program calls the ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">jump_out</span></code> ’ procedure, which goes to the label <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">end_of_WEAVE</span></code> .</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  end_of_WEAVE  =  9999  //  go  here  to  wrap  it  up</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">&lt;  Compiler  directives  &gt;



label  end_of_WEAVE;  //  go  here  to  finish







&lt;  Error  handling  procedures  &gt;

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>3. Some of this code is optional for use when debugging only; such material is enclosed between the delimiters <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">debug</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 2.4100006rem; height: 0.9999985rem; padding-left: -0.036999512rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑔</span><span class="ci" style="top: -0.0000005364418rem; left: 0.5259995rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: -0.0000005364418rem; left: 1.0819992rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: -0.0000005364418rem; left: 1.5449997rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 1.9470001rem; font-size: 1rem; font-family: tdux1">𝑑</span></span>. Other parts, delimited by <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stat</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 1.5500001rem; height: 0.9999985rem; padding-left: 0.040998843rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 0.3380005rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 0.7820007rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 1.1200012rem; font-size: 1rem; font-family: tdux1">𝑠</span></span>, are optionally included if statistics about WEAVE’s memory usage are desired.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>//  change  this  to  `$\\{debug}\equiv\null$'  when  debugging
@define  debug  =
     /*</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">//  change  this  to  `$\\{gubed}\equiv\null$'  when  debugging
@define  gubed  =
     */</span></code></pre> <pre><code></code></pre> <pre><code></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">//  change  this  to  `$\\{stat}\equiv\null$'  when  gathering  usage  statistics
@define  stat  =
     /*</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">//  change  this  to  `$\\{tats}\equiv\null$'  when  gathering  usage  statistics
@define  tats  =
     */</span></code></pre> <pre><code></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>4. The Pascal  compiler used to develop this system has “compiler directives” that can appear in comments whose first character is a dollar sign. In production versions of WEAVE these directives tell the compiler that it is safe to avoid range checks and to leave out the extra code it inserts for the Pascal  debugger’s benefit, although interrupts will occur if there is arithmetic overflow.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></section><section class="ttweave-nonfirst"> <p>5. Labels are given symbolic names by the following definitions. We insert the label ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">exit</span></code> :’ just before the ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">end</span></code> ’ of a procedure in which we have used the ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">return</span></code> ’ statement defined below; the label ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">restart</span></code> ’ is occasionally used at the very beginning of a procedure; and the label ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">reswitch</span></code> ’ is occasionally used just prior to a &amp;case statement in which some cases change the conditions and we wish to branch to the newly applicable case. Loops that are set up with the &amp;loop construction defined below are commonly exited by going to ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">done</span></code> ’ or to ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">found</span></code> ’ or to ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">not_found</span></code> ’, and they are sometimes repeated by going to ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">continue</span></code> ’.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  exit  =  10  //  go  here  to  leave  a  procedure</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  restart  =  20  //  go  here  to  start  a  procedure  again</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  reswitch  =
     21  //  go  here  to  start  a  case  statement  again</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  continue  =  22  //  go  here  to  resume  a  loop</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  done  =  30  //  go  here  to  exit  a  loop</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  found  =  31  //  go  here  when  you've  found  it</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  not_found  =
     32  //  go  here  when  you've  found  something  else</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>6. Here are some macros for common programming idioms.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  incr(#)  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  decr(#)  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">//  repeat  over  and  over  until  a  goto  happens
@define  loop  =
    </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  do_nothing  =   //  empty  statement</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  return  = </span></code></pre> <pre><code></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>7. We assume that <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">case</span></code> statements may include a default case that applies if no matching label is found. Thus, we shall use constructions like <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



</span></code><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code></code> <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><div class="canvas canvas-block" style="width: 14.2953615rem; height: 6.1319976rem; padding-left: 0.072999574rem"><span class="ci" style="top: 0.25323606rem; left: 0rem; font-size: 1rem; font-family: tdux2">c</span><span class="ci" style="top: 0.25323606rem; left: 0.52500004rem; font-size: 1rem; font-family: tdux2">a</span><span class="ci" style="top: 0.25323606rem; left: 1.0500001rem; font-size: 1rem; font-family: tdux2">s</span><span class="ci" style="top: 0.25323606rem; left: 1.575rem; font-size: 1rem; font-family: tdux2">e</span><span class="ci" style="top: 0.25323606rem; left: 2.1000001rem; font-size: 1rem; font-family: tdux2">x</span><span class="ci" style="top: 0.25323606rem; left: 2.625rem; font-size: 1rem; font-family: tdux2">o</span><span class="ci" style="top: 0.25323606rem; left: 3.15rem; font-size: 1rem; font-family: tdux2">f</span><span class="ci" style="top: 1.4950455rem; left: 0rem; font-size: 1rem; font-family: tdux4">1</span><span class="ci" style="top: 1.4950455rem; left: 0.5rem; font-size: 1rem; font-family: tdux4">:</span><span class="ci" style="top: 1.4899988rem; left: 1.0833329rem; font-size: 1rem; font-family: tdux1vg0">⟨</span><span class="ci" style="top: 1.4950455rem; left: 1.6410141rem; font-size: 1rem; font-family: tdux4">c</span><span class="ci" style="top: 1.4950455rem; left: 2.0850143rem; font-size: 1rem; font-family: tdux4">o</span><span class="ci" style="top: 1.4950455rem; left: 2.6310136rem; font-size: 1rem; font-family: tdux4">d</span><span class="ci" style="top: 1.4950455rem; left: 3.2420137rem; font-size: 1rem; font-family: tdux4">e</span><span class="ci" style="top: 1.4950455rem; left: 3.9710145rem; font-size: 1rem; font-family: tdux4">f</span><span class="ci" style="top: 1.4950455rem; left: 4.289014rem; font-size: 1rem; font-family: tdux4">o</span><span class="ci" style="top: 1.4950455rem; left: 4.8350143rem; font-size: 1rem; font-family: tdux4">r</span><span class="ci" style="top: 1.4899988rem; left: 5.4800143rem; font-size: 1rem; font-family: tdux1">𝑥</span><span class="ci" style="top: 1.4899988rem; left: 6.269815rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 1.4899988rem; left: 7.307617rem; font-size: 1rem; font-family: tdux1">1</span><span class="ci" style="top: 1.4899988rem; left: 7.974298rem; font-size: 1rem; font-family: tdux1vg0">⟩</span><span class="ci" style="top: 1.4950455rem; left: 8.365298rem; font-size: 1rem; font-family: tdux4">;</span><span class="ci" style="top: 2.6950455rem; left: 0rem; font-size: 1rem; font-family: tdux4">3</span><span class="ci" style="top: 2.6950455rem; left: 0.5rem; font-size: 1rem; font-family: tdux4">:</span><span class="ci" style="top: 2.6899989rem; left: 1.0833329rem; font-size: 1rem; font-family: tdux1vg0">⟨</span><span class="ci" style="top: 2.6950455rem; left: 1.6410141rem; font-size: 1rem; font-family: tdux4">c</span><span class="ci" style="top: 2.6950455rem; left: 2.0850143rem; font-size: 1rem; font-family: tdux4">o</span><span class="ci" style="top: 2.6950455rem; left: 2.6310136rem; font-size: 1rem; font-family: tdux4">d</span><span class="ci" style="top: 2.6950455rem; left: 3.2420137rem; font-size: 1rem; font-family: tdux4">e</span><span class="ci" style="top: 2.6950455rem; left: 3.9710145rem; font-size: 1rem; font-family: tdux4">f</span><span class="ci" style="top: 2.6950455rem; left: 4.289014rem; font-size: 1rem; font-family: tdux4">o</span><span class="ci" style="top: 2.6950455rem; left: 4.8350143rem; font-size: 1rem; font-family: tdux4">r</span><span class="ci" style="top: 2.6899989rem; left: 5.4800143rem; font-size: 1rem; font-family: tdux1">𝑥</span><span class="ci" style="top: 2.6899989rem; left: 6.269815rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 2.6899989rem; left: 7.307617rem; font-size: 1rem; font-family: tdux1">3</span><span class="ci" style="top: 2.6899989rem; left: 7.974298rem; font-size: 1rem; font-family: tdux1vg0">⟩</span><span class="ci" style="top: 2.6950455rem; left: 8.365298rem; font-size: 1rem; font-family: tdux4">;</span><span class="ci" style="top: 3.853236rem; left: 0rem; font-size: 1rem; font-family: tdux2">o</span><span class="ci" style="top: 3.853236rem; left: 0.52500004rem; font-size: 1rem; font-family: tdux2">t</span><span class="ci" style="top: 3.853236rem; left: 1.0500001rem; font-size: 1rem; font-family: tdux2">h</span><span class="ci" style="top: 3.853236rem; left: 1.575rem; font-size: 1rem; font-family: tdux2">e</span><span class="ci" style="top: 3.853236rem; left: 2.1000001rem; font-size: 1rem; font-family: tdux2">r</span><span class="ci" style="top: 3.853236rem; left: 2.625rem; font-size: 1rem; font-family: tdux2">c</span><span class="ci" style="top: 3.853236rem; left: 3.15rem; font-size: 1rem; font-family: tdux2">a</span><span class="ci" style="top: 3.853236rem; left: 3.675rem; font-size: 1rem; font-family: tdux2">s</span><span class="ci" style="top: 3.853236rem; left: 4.2000003rem; font-size: 1rem; font-family: tdux2">e</span><span class="ci" style="top: 3.853236rem; left: 4.725rem; font-size: 1rem; font-family: tdux2">s</span><span class="ci" style="top: 3.8899987rem; left: 6.025rem; font-size: 1rem; font-family: tdux1vg0">⟨</span><span class="ci" style="top: 3.8950453rem; left: 6.582681rem; font-size: 1rem; font-family: tdux4">c</span><span class="ci" style="top: 3.8950453rem; left: 7.0266814rem; font-size: 1rem; font-family: tdux4">o</span><span class="ci" style="top: 3.8950453rem; left: 7.572681rem; font-size: 1rem; font-family: tdux4">d</span><span class="ci" style="top: 3.8950453rem; left: 8.183681rem; font-size: 1rem; font-family: tdux4">e</span><span class="ci" style="top: 3.8950453rem; left: 8.912682rem; font-size: 1rem; font-family: tdux4">f</span><span class="ci" style="top: 3.8950453rem; left: 9.230681rem; font-size: 1rem; font-family: tdux4">o</span><span class="ci" style="top: 3.8950453rem; left: 9.776682rem; font-size: 1rem; font-family: tdux4">r</span><span class="ci" style="top: 3.8950453rem; left: 11.196681rem; font-size: 1rem; font-family: tdux4">a</span><span class="ci" style="top: 3.8950453rem; left: 11.696681rem; font-size: 1rem; font-family: tdux4">n</span><span class="ci" style="top: 3.8950453rem; left: 12.278682rem; font-size: 1rem; font-family: tdux4">d</span><span class="ci" style="top: 3.8899987rem; left: 13.831363rem; font-size: 1rem; font-family: tdux1vg0">⟩</span><span class="ci" style="top: 5.053236rem; left: 0rem; font-size: 1rem; font-family: tdux2">e</span><span class="ci" style="top: 5.053236rem; left: 0.52500004rem; font-size: 1rem; font-family: tdux2">n</span><span class="ci" style="top: 5.053236rem; left: 1.0500001rem; font-size: 1rem; font-family: tdux2">d</span><span class="ci" style="top: 5.053236rem; left: 1.575rem; font-size: 1rem; font-family: tdux2">c</span><span class="ci" style="top: 5.053236rem; left: 2.1000001rem; font-size: 1rem; font-family: tdux2">a</span><span class="ci" style="top: 5.053236rem; left: 2.625rem; font-size: 1rem; font-family: tdux2">s</span><span class="ci" style="top: 5.053236rem; left: 3.15rem; font-size: 1rem; font-family: tdux2">e</span><span class="ci" style="top: 5.053236rem; left: 3.675rem; font-size: 1rem; font-family: tdux2">s</span></div> since most Pascal  compilers have plugged this hole in the language by incorporating some sort of default mechanism. For example, the compiler used to develop WEB and <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  allows ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">others</span></code> :’ as a default label, and other Pascals allow syntaxes like ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">else</span></code> ’ or ‘&amp;otherwise’ or ‘\otherwise:’, etc. The definitions of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">othercases</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">endcases</span></code> should be changed to agree with local conventions. (Of course, if no default mechanism is available, the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">case</span></code> statements of this program must be extended by listing all remaining cases.)</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>//  default  for  cases  not  listed  explicitly
@define  othercases  =
    </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">//  follows  the  default  case  in  an  extended  case  statement
@define  endcases  =
    </span></code></pre> <pre><code></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>8. The following parameters are set big enough to handle <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>, so they should be sufficient for most applications of WEAVE.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">























</span></code></pre></section><section class="ttweave-nonfirst"> <p>9. A global variable called <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">history</span></code> will contain one of four values at the end of every run: <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">spotless</span></code> means that no unusual messages were printed; <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">harmless_message</span></code> means that a message of possible interest was printed but no serious errors were detected; <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">error_message</span></code> means that at least one error was found; <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">fatal_message</span></code> means that the program terminated abnormally. The value of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">history</span></code> does not influence the behavior of the program; it is simply computed for the convenience of systems that might want to use such information.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  spotless  =  0  //   history  value  for  normal  jobs</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  harmless_message  =
     1  //   history  value  when  non-serious  info  was  printed</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  error_message  =
     2  //   history  value  when  an  error  was  noted</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  fatal_message  =
     3  //   history  value  when  we  had  to  stop  prematurely</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  mark_harmless  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  mark_error  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  mark_fatal  = </span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>10. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>11. The character set. One of the main goals in the design of WEB has been to make it readily portable between a wide variety of computers. Yet WEB by its very nature must use a greater variety of characters than most computer programs deal with, and character encoding is one of the areas in which existing machines differ most widely from each other.</p> <p>To resolve this problem, all input to WEAVE and TANGLE is converted to an internal eight-bit code that is essentially standard ASCII, the “American Standard Code for Information Interchange.” The conversion is done immediately when each character is read in. Conversely, characters are converted from ASCII to the user’s external representation just before they are output. (The original ASCII code was seven bits only; WEB now allows eight bits in an attempt to keep up with modern times.)</p> <p>Such an internal code is relevant to users of WEB only because it is the code used for preprocessed constants like "A". If you are writing a program in WEB that makes use of such one-character constants, you should convert your input to ASCII form, like WEAVE and TANGLE do. Otherwise WEB’s internal coding scheme does not affect you.</p> <p>Here is a table of the standard visible ASCII codes: <div class="canvas canvas-block" style="width: 32.7125rem; height: 19.489988rem; padding-left: 2.4299989rem"><span class="ci" style="top: 0.0065368414rem; left: 1.75rem; font-size: 1rem; font-family: tdux0">0</span><span class="ci" style="top: 0.0065368414rem; left: 5.75rem; font-size: 1rem; font-family: tdux0">1</span><span class="ci" style="top: 0.0065368414rem; left: 9.75rem; font-size: 1rem; font-family: tdux0">2</span><span class="ci" style="top: 0.0065368414rem; left: 13.75rem; font-size: 1rem; font-family: tdux0">3</span><span class="ci" style="top: 0.0065368414rem; left: 17.75rem; font-size: 1rem; font-family: tdux0">4</span><span class="ci" style="top: 0.0065368414rem; left: 21.75rem; font-size: 1rem; font-family: tdux0">5</span><span class="ci" style="top: 0.0065368414rem; left: 25.75rem; font-size: 1rem; font-family: tdux0">6</span><span class="ci" style="top: 0.0065368414rem; left: 29.748999rem; font-size: 1rem; font-family: tdux0">7</span><span class="ci" style="top: 1.5130433rem; left: -2.4rem; font-size: 1rem; font-family: tdux4">Ø</span><span class="ci" style="top: 1.5130433rem; left: -1.5669998rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 1.5130433rem; left: -1.0669998rem; font-size: 1rem; font-family: tdux4">4</span><span class="ci" style="top: 1.5130433rem; left: -0.56699985rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 1.4712338rem; left: 1.7574997rem; font-size: 1rem; font-family: tdux2"> </span><span class="ci" style="top: 1.4712338rem; left: 5.7574997rem; font-size: 1rem; font-family: tdux2">!</span><span class="ci" style="top: 1.4712338rem; left: 9.7575rem; font-size: 1rem; font-family: tdux2">"</span><span class="ci" style="top: 1.4712338rem; left: 13.7575rem; font-size: 1rem; font-family: tdux2">#</span><span class="ci" style="top: 1.4712338rem; left: 17.7575rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 1.4712338rem; left: 21.7575rem; font-size: 1rem; font-family: tdux2">%</span><span class="ci" style="top: 1.4712338rem; left: 25.757502rem; font-size: 1rem; font-family: tdux2">&amp;</span><span class="ci" style="top: 1.4712338rem; left: 29.757502rem; font-size: 1rem; font-family: tdux2">'</span><span class="ci" style="top: 3.053043rem; left: -2.4rem; font-size: 1rem; font-family: tdux4">Ø</span><span class="ci" style="top: 3.053043rem; left: -1.5669998rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 3.053043rem; left: -1.0669998rem; font-size: 1rem; font-family: tdux4">5</span><span class="ci" style="top: 3.053043rem; left: -0.56699985rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 3.0112333rem; left: 1.7574997rem; font-size: 1rem; font-family: tdux2">(</span><span class="ci" style="top: 3.0112333rem; left: 5.7574997rem; font-size: 1rem; font-family: tdux2">)</span><span class="ci" style="top: 3.0112333rem; left: 9.7575rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 3.0112333rem; left: 13.7575rem; font-size: 1rem; font-family: tdux2">+</span><span class="ci" style="top: 3.0112333rem; left: 17.7575rem; font-size: 1rem; font-family: tdux2">,</span><span class="ci" style="top: 3.0112333rem; left: 21.7575rem; font-size: 1rem; font-family: tdux2">-</span><span class="ci" style="top: 3.0112333rem; left: 25.757502rem; font-size: 1rem; font-family: tdux2">.</span><span class="ci" style="top: 3.0112333rem; left: 29.757502rem; font-size: 1rem; font-family: tdux2">/</span><span class="ci" style="top: 4.593042rem; left: -2.4rem; font-size: 1rem; font-family: tdux4">Ø</span><span class="ci" style="top: 4.593042rem; left: -1.5669998rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 4.593042rem; left: -1.0669998rem; font-size: 1rem; font-family: tdux4">6</span><span class="ci" style="top: 4.593042rem; left: -0.56699985rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 4.5512323rem; left: 1.7574997rem; font-size: 1rem; font-family: tdux2">0</span><span class="ci" style="top: 4.5512323rem; left: 5.7574997rem; font-size: 1rem; font-family: tdux2">1</span><span class="ci" style="top: 4.5512323rem; left: 9.7575rem; font-size: 1rem; font-family: tdux2">2</span><span class="ci" style="top: 4.5512323rem; left: 13.7575rem; font-size: 1rem; font-family: tdux2">3</span><span class="ci" style="top: 4.5512323rem; left: 17.7575rem; font-size: 1rem; font-family: tdux2">4</span><span class="ci" style="top: 4.5512323rem; left: 21.7575rem; font-size: 1rem; font-family: tdux2">5</span><span class="ci" style="top: 4.5512323rem; left: 25.757502rem; font-size: 1rem; font-family: tdux2">6</span><span class="ci" style="top: 4.5512323rem; left: 29.757502rem; font-size: 1rem; font-family: tdux2">7</span><span class="ci" style="top: 6.1330414rem; left: -2.4rem; font-size: 1rem; font-family: tdux4">Ø</span><span class="ci" style="top: 6.1330414rem; left: -1.5669998rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 6.1330414rem; left: -1.0669998rem; font-size: 1rem; font-family: tdux4">7</span><span class="ci" style="top: 6.1330414rem; left: -0.56699985rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 6.0912323rem; left: 1.7574997rem; font-size: 1rem; font-family: tdux2">8</span><span class="ci" style="top: 6.0912323rem; left: 5.7574997rem; font-size: 1rem; font-family: tdux2">9</span><span class="ci" style="top: 6.0912323rem; left: 9.7575rem; font-size: 1rem; font-family: tdux2">:</span><span class="ci" style="top: 6.0912323rem; left: 13.7575rem; font-size: 1rem; font-family: tdux2">;</span><span class="ci" style="top: 6.0912323rem; left: 17.7575rem; font-size: 1rem; font-family: tdux2">&lt;</span><span class="ci" style="top: 6.0912323rem; left: 21.7575rem; font-size: 1rem; font-family: tdux2">=</span><span class="ci" style="top: 6.0912323rem; left: 25.757502rem; font-size: 1rem; font-family: tdux2">&gt;</span><span class="ci" style="top: 6.0912323rem; left: 29.757502rem; font-size: 1rem; font-family: tdux2">?</span><span class="ci" style="top: 7.673041rem; left: -2.4rem; font-size: 1rem; font-family: tdux4">Ø</span><span class="ci" style="top: 7.673041rem; left: -1.5669998rem; font-size: 1rem; font-family: tdux4">1</span><span class="ci" style="top: 7.673041rem; left: -1.0669998rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 7.673041rem; left: -0.56699985rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 7.6312313rem; left: 1.7574997rem; font-size: 1rem; font-family: tdux2">@</span><span class="ci" style="top: 7.6312313rem; left: 5.7574997rem; font-size: 1rem; font-family: tdux2">A</span><span class="ci" style="top: 7.6312313rem; left: 9.7575rem; font-size: 1rem; font-family: tdux2">B</span><span class="ci" style="top: 7.6312313rem; left: 13.7575rem; font-size: 1rem; font-family: tdux2">C</span><span class="ci" style="top: 7.6312313rem; left: 17.7575rem; font-size: 1rem; font-family: tdux2">D</span><span class="ci" style="top: 7.6312313rem; left: 21.7575rem; font-size: 1rem; font-family: tdux2">E</span><span class="ci" style="top: 7.6312313rem; left: 25.757502rem; font-size: 1rem; font-family: tdux2">F</span><span class="ci" style="top: 7.6312313rem; left: 29.757502rem; font-size: 1rem; font-family: tdux2">G</span><span class="ci" style="top: 9.21304rem; left: -2.4rem; font-size: 1rem; font-family: tdux4">Ø</span><span class="ci" style="top: 9.21304rem; left: -1.5669998rem; font-size: 1rem; font-family: tdux4">1</span><span class="ci" style="top: 9.21304rem; left: -1.0669998rem; font-size: 1rem; font-family: tdux4">1</span><span class="ci" style="top: 9.21304rem; left: -0.56699985rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 9.17123rem; left: 1.7574997rem; font-size: 1rem; font-family: tdux2">H</span><span class="ci" style="top: 9.17123rem; left: 5.7574997rem; font-size: 1rem; font-family: tdux2">I</span><span class="ci" style="top: 9.17123rem; left: 9.7575rem; font-size: 1rem; font-family: tdux2">J</span><span class="ci" style="top: 9.17123rem; left: 13.7575rem; font-size: 1rem; font-family: tdux2">K</span><span class="ci" style="top: 9.17123rem; left: 17.7575rem; font-size: 1rem; font-family: tdux2">L</span><span class="ci" style="top: 9.17123rem; left: 21.7575rem; font-size: 1rem; font-family: tdux2">M</span><span class="ci" style="top: 9.17123rem; left: 25.757502rem; font-size: 1rem; font-family: tdux2">N</span><span class="ci" style="top: 9.17123rem; left: 29.757502rem; font-size: 1rem; font-family: tdux2">O</span><span class="ci" style="top: 10.75304rem; left: -2.4rem; font-size: 1rem; font-family: tdux4">Ø</span><span class="ci" style="top: 10.75304rem; left: -1.5669998rem; font-size: 1rem; font-family: tdux4">1</span><span class="ci" style="top: 10.75304rem; left: -1.0669998rem; font-size: 1rem; font-family: tdux4">2</span><span class="ci" style="top: 10.75304rem; left: -0.56699985rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 10.71123rem; left: 1.7574997rem; font-size: 1rem; font-family: tdux2">P</span><span class="ci" style="top: 10.71123rem; left: 5.7574997rem; font-size: 1rem; font-family: tdux2">Q</span><span class="ci" style="top: 10.71123rem; left: 9.7575rem; font-size: 1rem; font-family: tdux2">R</span><span class="ci" style="top: 10.71123rem; left: 13.7575rem; font-size: 1rem; font-family: tdux2">S</span><span class="ci" style="top: 10.71123rem; left: 17.7575rem; font-size: 1rem; font-family: tdux2">T</span><span class="ci" style="top: 10.71123rem; left: 21.7575rem; font-size: 1rem; font-family: tdux2">U</span><span class="ci" style="top: 10.71123rem; left: 25.757502rem; font-size: 1rem; font-family: tdux2">V</span><span class="ci" style="top: 10.71123rem; left: 29.757502rem; font-size: 1rem; font-family: tdux2">W</span><span class="ci" style="top: 12.293039rem; left: -2.4rem; font-size: 1rem; font-family: tdux4">Ø</span><span class="ci" style="top: 12.293039rem; left: -1.5669998rem; font-size: 1rem; font-family: tdux4">1</span><span class="ci" style="top: 12.293039rem; left: -1.0669998rem; font-size: 1rem; font-family: tdux4">3</span><span class="ci" style="top: 12.293039rem; left: -0.56699985rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 12.251229rem; left: 1.7574997rem; font-size: 1rem; font-family: tdux2">X</span><span class="ci" style="top: 12.251229rem; left: 5.7574997rem; font-size: 1rem; font-family: tdux2">Y</span><span class="ci" style="top: 12.251229rem; left: 9.7575rem; font-size: 1rem; font-family: tdux2">Z</span><span class="ci" style="top: 12.251229rem; left: 13.7575rem; font-size: 1rem; font-family: tdux2">[</span><span class="ci" style="top: 12.251229rem; left: 17.7575rem; font-size: 1rem; font-family: tdux2">\</span><span class="ci" style="top: 12.251229rem; left: 21.7575rem; font-size: 1rem; font-family: tdux2">]</span><span class="ci" style="top: 12.251229rem; left: 25.757502rem; font-size: 1rem; font-family: tdux2">^</span><span class="ci" style="top: 12.251229rem; left: 29.757502rem; font-size: 1rem; font-family: tdux2">_</span><span class="ci" style="top: 13.833039rem; left: -2.4rem; font-size: 1rem; font-family: tdux4">Ø</span><span class="ci" style="top: 13.833039rem; left: -1.5669998rem; font-size: 1rem; font-family: tdux4">1</span><span class="ci" style="top: 13.833039rem; left: -1.0669998rem; font-size: 1rem; font-family: tdux4">4</span><span class="ci" style="top: 13.833039rem; left: -0.56699985rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 13.791229rem; left: 1.7574997rem; font-size: 1rem; font-family: tdux2">`</span><span class="ci" style="top: 13.791229rem; left: 5.7574997rem; font-size: 1rem; font-family: tdux2">a</span><span class="ci" style="top: 13.791229rem; left: 9.7575rem; font-size: 1rem; font-family: tdux2">b</span><span class="ci" style="top: 13.791229rem; left: 13.7575rem; font-size: 1rem; font-family: tdux2">c</span><span class="ci" style="top: 13.791229rem; left: 17.7575rem; font-size: 1rem; font-family: tdux2">d</span><span class="ci" style="top: 13.791229rem; left: 21.7575rem; font-size: 1rem; font-family: tdux2">e</span><span class="ci" style="top: 13.791229rem; left: 25.757502rem; font-size: 1rem; font-family: tdux2">f</span><span class="ci" style="top: 13.791229rem; left: 29.757502rem; font-size: 1rem; font-family: tdux2">g</span><span class="ci" style="top: 15.373039rem; left: -2.4rem; font-size: 1rem; font-family: tdux4">Ø</span><span class="ci" style="top: 15.373039rem; left: -1.5669998rem; font-size: 1rem; font-family: tdux4">1</span><span class="ci" style="top: 15.373039rem; left: -1.0669998rem; font-size: 1rem; font-family: tdux4">5</span><span class="ci" style="top: 15.373039rem; left: -0.56699985rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 15.331229rem; left: 1.7574997rem; font-size: 1rem; font-family: tdux2">h</span><span class="ci" style="top: 15.331229rem; left: 5.7574997rem; font-size: 1rem; font-family: tdux2">i</span><span class="ci" style="top: 15.331229rem; left: 9.7575rem; font-size: 1rem; font-family: tdux2">j</span><span class="ci" style="top: 15.331229rem; left: 13.7575rem; font-size: 1rem; font-family: tdux2">k</span><span class="ci" style="top: 15.331229rem; left: 17.7575rem; font-size: 1rem; font-family: tdux2">l</span><span class="ci" style="top: 15.331229rem; left: 21.7575rem; font-size: 1rem; font-family: tdux2">m</span><span class="ci" style="top: 15.331229rem; left: 25.757502rem; font-size: 1rem; font-family: tdux2">n</span><span class="ci" style="top: 15.331229rem; left: 29.757502rem; font-size: 1rem; font-family: tdux2">o</span><span class="ci" style="top: 16.913038rem; left: -2.4rem; font-size: 1rem; font-family: tdux4">Ø</span><span class="ci" style="top: 16.913038rem; left: -1.5669998rem; font-size: 1rem; font-family: tdux4">1</span><span class="ci" style="top: 16.913038rem; left: -1.0669998rem; font-size: 1rem; font-family: tdux4">6</span><span class="ci" style="top: 16.913038rem; left: -0.56699985rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 16.87123rem; left: 1.7574997rem; font-size: 1rem; font-family: tdux2">p</span><span class="ci" style="top: 16.87123rem; left: 5.7574997rem; font-size: 1rem; font-family: tdux2">q</span><span class="ci" style="top: 16.87123rem; left: 9.7575rem; font-size: 1rem; font-family: tdux2">r</span><span class="ci" style="top: 16.87123rem; left: 13.7575rem; font-size: 1rem; font-family: tdux2">s</span><span class="ci" style="top: 16.87123rem; left: 17.7575rem; font-size: 1rem; font-family: tdux2">t</span><span class="ci" style="top: 16.87123rem; left: 21.7575rem; font-size: 1rem; font-family: tdux2">u</span><span class="ci" style="top: 16.87123rem; left: 25.757502rem; font-size: 1rem; font-family: tdux2">v</span><span class="ci" style="top: 16.87123rem; left: 29.757502rem; font-size: 1rem; font-family: tdux2">w</span><span class="ci" style="top: 18.453037rem; left: -2.4rem; font-size: 1rem; font-family: tdux4">Ø</span><span class="ci" style="top: 18.453037rem; left: -1.5669998rem; font-size: 1rem; font-family: tdux4">1</span><span class="ci" style="top: 18.453037rem; left: -1.0669998rem; font-size: 1rem; font-family: tdux4">7</span><span class="ci" style="top: 18.453037rem; left: -0.56699985rem; font-size: 1rem; font-family: tdux4">0</span><span class="ci" style="top: 18.411228rem; left: 1.7574997rem; font-size: 1rem; font-family: tdux2">x</span><span class="ci" style="top: 18.411228rem; left: 5.7574997rem; font-size: 1rem; font-family: tdux2">y</span><span class="ci" style="top: 18.411228rem; left: 9.7575rem; font-size: 1rem; font-family: tdux2">z</span><span class="ci" style="top: 18.411228rem; left: 13.7575rem; font-size: 1rem; font-family: tdux2">{</span><span class="ci" style="top: 18.411228rem; left: 17.7575rem; font-size: 1rem; font-family: tdux2">|</span><span class="ci" style="top: 18.411228rem; left: 21.7575rem; font-size: 1rem; font-family: tdux2">}</span><span class="ci" style="top: 18.411228rem; left: 25.757502rem; font-size: 1rem; font-family: tdux2">~</span></div> (Actually, of course, code 0x20 is an invisible blank space.) Code 0x5E was once an upward arrow (), and code 0x5F was once a left arrow (←), in olden times when the first draft of ASCII code was prepared; but WEB works with today’s standard ASCII in which those codes represent circumflex and underline as shown.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>12. The original Pascal  compiler was designed in the late 60s, when six-bit character sets were common, so it did not make provision for lowercase letters. Nowadays, of course, we need to deal with both capital and small letters in a convenient way, so WEB assumes that it is being used with a Pascal  whose character set contains at least the characters of standard ASCII as listed above. Some Pascal  compilers use the original name <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">char</span></code> for the data type associated with the characters in text files, while other Pascals consider <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">char</span></code> to be a 64-element subrange of a larger data type that has some other name.</p> <p>In order to accommodate this difference, we shall use the name <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">text_char</span></code> to stand for the data type of the characters in the input and output files. We shall also assume that <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">text_char</span></code> consists of the elements <code></code> through <code></code> , inclusive. The following definitions should be adjusted if necessary.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  text_char  =
     char  //  the  data  type  of  characters  in  text  files</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  first_text_char  =
     0  //  ordinal  number  of  the  smallest  element  of  text_char </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  last_text_char  =
     255  //  ordinal  number  of  the  largest  element  of  text_char </span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>13. The WEAVE and TANGLE processors convert between ASCII code and the user’s external character set by means of arrays <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xord</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xchr</span></code> that are analogous to Pascal’s <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ord</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">chr</span></code> functions.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></section><section class="ttweave-nonfirst"> <p>14. If we assume that every system using WEB is able to read and write the visible characters of standard ASCII (although not necessarily using the ASCII codes to represent them), the following assignment statements initialize most of the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xchr</span></code> array properly, without needing any system-dependent changes. For example, the statement xchr[@ 101]:= A that appears in the present WEB file might be encoded in, say, EBCDIC code on the external medium on which it resides, but TANGLE will convert from this external code to ASCII and back again. Therefore the assignment statement XCHR[65]:= A will appear in the corresponding Pascal  file, and Pascal  will compile this statement so that <code></code> receives the character A in the external (<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">char</span></code> ) code. Note that it would be quite incorrect to say xchr[@ 101]:="A", because <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">strpool!("A")</span></code> is a constant of type <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">integer</span></code> , not <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">char</span></code> , and because we have <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 7.719606rem; height: 0.9999985rem; padding-left: 0.008999634rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: -0.0000005364418rem; left: 0.38899994rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 0.7270004rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 1.1389999rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: -0.0000005364418rem; left: 1.6389999rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 2.0830002rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 2.5270004rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: -0.0000005364418rem; left: 2.8050003rem; font-size: 1rem; font-family: tdux1">!</span><span class="ci" style="top: -0.0000005364418rem; left: 3.0830002rem; font-size: 1rem; font-family: tdux1vg0">(</span><span class="ci" style="top: -0.0000005364418rem; left: 3.5070007rem; font-size: 1rem; font-family: tdux1">"</span><span class="ci" style="top: -0.0000005364418rem; left: 3.8780015rem; font-size: 1rem; font-family: tdux1">𝐴</span><span class="ci" style="top: -0.0000005364418rem; left: 4.600002rem; font-size: 1rem; font-family: tdux1">"</span><span class="ci" style="top: -0.0000005364418rem; left: 4.971002rem; font-size: 1rem; font-family: tdux1vg0">)</span><span class="ci" style="top: -0.0000005364418rem; left: 5.6728044rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 6.7106066rem; font-size: 1rem; font-family: tdux1">6</span><span class="ci" style="top: -0.0000005364418rem; left: 7.2106066rem; font-size: 1rem; font-family: tdux1">5</span></span> regardless of the external character set.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">































































































































































































</span></code></pre></section><section class="ttweave-nonfirst"> <p>15. Some of the ASCII codes below 0x20 have been given symbolic names in WEAVE and TANGLE because they are used with a special meaning.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  and_sign  =  0x4  //  equivalent  to  `\.{and}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  not_sign  =  0x5  //  equivalent  to  `\.{not}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  set_element_sign  =  0x6  //  equivalent  to  `\.{in}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  tab_mark  =  0x9  //  ASCII  code  used  as  tab-skip</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  line_feed  =
     0xa  //  ASCII  code  thrown  away  at  end  of  line</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  form_feed  =  0xc  //  ASCII  code  used  at  end  of  page</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  carriage_return  =  0xd  //  ASCII  code  used  at  end  of  line</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  left_arrow  =  0x18  //  equivalent  to  `\.{:=}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  not_equal  =  0x1a  //  equivalent  to  `\.{&lt;&gt;}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  less_or_equal  =  0x1c  //  equivalent  to  `\.{&lt;=}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  greater_or_equal  =  0x1d  //  equivalent  to  `\.{&gt;=}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  equivalence_sign  =  0x1e  //  equivalent  to  `\.{==}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  or_sign  =  0x1f  //  equivalent  to  `\.{or}'</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>16. When we initialize the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xord</span></code> array and the remaining parts of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xchr</span></code> , it will be convenient to make use of an index variable, <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">i</span></code> .</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>17. Here now is the system-dependent part of the character set. If WEB is being implemented on a garden-variety Pascal  for which only standard ASCII codes will appear in the input and output files, you don’t need to make any changes here. But if you have, for example, an extended character set like the one in Appendix  C of The <span class="canvas canvas-inline" style="width: 1.7052964rem; height: 1.2729981rem; padding-left: 0.05299988rem; vertical-align: -0.5399994rem"><span class="ci" style="top: 0.0065368414rem; left: 0rem; font-size: 1rem; font-family: tdux0">T</span><span class="ci" style="top: 0.27053678rem; left: 0.4442978rem; font-size: 1rem; font-family: tdux0">E</span><span class="ci" style="top: 0.0065368414rem; left: 0.93029785rem; font-size: 1rem; font-family: tdux0">X</span></span>book, the first line of code in this module should be changed to <code></code><div class="canvas canvas-block" style="width: 0rem; height: 0rem; padding-left: 0rem"></div> WEB’s character set is essentially identical to <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>’s, even with respect to characters less than 0x20.</p> <p>Changes to the present module will make WEB more friendly on computers that have an extended character set, so that one can type things like ^^Z  instead of &lt;&gt;. If you have an extended set of characters that are easily incorporated into text files, you can assign codes arbitrarily here, giving an <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xchr</span></code> equivalent to whatever characters the users of WEB are allowed to have in their input files, provided that unsuitable characters do not correspond to special codes like <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">carriage_return</span></code> that are listed above.</p> <p>(The present file WEAVE.WEB does not contain any of the non-ASCII characters, because it is intended to be used with all implementations of WEB. It was originally created on a Stanford system that has a convenient extended character set, then “sanitized” by applying another program that transliterated all of the non-standard characters into standard equivalents.)</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></section><section class="ttweave-nonfirst"> <p>18. The following system-independent code makes the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xord</span></code> array contain a suitable inverse to the information in <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xchr</span></code> .</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



</span></code></pre></section><section class="ttweave-nonfirst"> <p>19. Input and output. The input conventions of this program are intended to be very much like those of <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  (except, of course, that they are much simpler, because much less needs to be done). Furthermore they are identical to those of TANGLE. Therefore people who need to make modifications to all three systems should be able to do so without too many headaches.</p> <p>We use the standard Pascal  input/output procedures in several places that <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  cannot, since WEAVE does not have to deal with files that are named dynamically by the user, and since there is no input from the terminal.</p></section> <section class="ttweave-nonfirst"> <p>20. Terminal output is done by writing on file <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">term_out</span></code> , which is assumed to consist of characters of type <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">text_char</span></code> :</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  print(#)  =
      //  `  print  '  means  write  on  the  terminal</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  print_ln(#)  =
      //  `  print  '  and  then  start  new  line</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  new_line  =
      //  start  new  line</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">//  print  information  starting  on  a  new  line
@define  print_nl(#)  =
    </span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>21. Different systems have different ways of specifying that the output on a certain file will appear on the user’s terminal. Here is one way to do this on the Pascal  system that was used in TANGLE’s initial development:</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>22. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">update_terminal</span></code> procedure is called when we want to make sure that everything we have output to the terminal so far has actually left the computer’s internal buffers and been sent.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  update_terminal  =
      //  empty  the  terminal  output  buffer</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>23. The main input comes from <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">web_file</span></code> ; this input may be overridden by changes in <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">change_file</span></code> . (If <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">change_file</span></code> is empty, there are no changes.)</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></section><section class="ttweave-nonfirst"> <p>24. The following code opens the input files. Since these files were listed in the program header, we assume that the Pascal  runtime system has already checked that suitable file names have been given; therefore no additional error checking needs to be done. We will see below that WEAVE reads through the entire input twice.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>25. The main output goes to <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tex_file</span></code> .</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>26. The following code opens <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tex_file</span></code> . Since this file was listed in the program header, we assume that the Pascal  runtime system has checked that a suitable external file name has been given.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>27. Input goes into an array called <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">buffer</span></code> .</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>28. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">input_ln</span></code> procedure brings the next line of input from the specified file into the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">buffer</span></code> array and returns the value <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">true</span></code> , unless the file has already been entirely read, in which case it returns <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">false</span></code> . The conventions of <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  are followed; i.e., <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ASCII_code</span></code> numbers representing the next line of the file are input into <code></code> , <code></code> , …, <code></code> ; trailing blanks are ignored; and the global variable <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">limit</span></code> is set to the length of the line. The value of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">limit</span></code> must be strictly less than <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">buf_size</span></code> .</p> <p>We assume that none of the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ASCII_code</span></code> values of <code></code> for <code></code> is equal to 0, 0x7F, <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">line_feed</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">form_feed</span></code> , or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">carriage_return</span></code> . Since <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">buf_size</span></code> is strictly less than <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">long_buf_size</span></code> , some of WEAVE’s routines use the fact that it is safe to refer to <code></code> without overstepping the bounds of the array.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>29. Reporting errors to the user. The WEAVE processor operates in three phases: first it inputs the source file and stores cross-reference data, then it inputs the source once again and produces the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  output file, and finally it sorts and outputs the index.</p> <p>The global variables <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">phase_one</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">phase_three</span></code> tell which Phase we are in.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></section><section class="ttweave-nonfirst"> <p>30. If an error is detected while we are debugging, we usually want to look at the contents of memory. A special procedure will be declared later for this purpose.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>debug

procedure

debug_help

forward

gubed</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>31. The command ‘<code></code> ’ will report a syntax error to the user, by printing the error message at the beginning of a new line and then giving an indication of where the error was spotted in the source file. Note that no period follows the error message, since the error routine will automatically supply a period.</p> <p>The actual error indications are provided by a procedure called <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">error</span></code> . However, error messages are not actually reported during phase one, since errors detected on the first pass will be detected again during the second.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  err_print(#)  = </span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>32. The error locations can be indicated by using the global variables <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">loc</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">line</span></code> , and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">changing</span></code> , which tell respectively the first unlooked-at position in <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">buffer</span></code> , the current line number, and whether or not the current line is from <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">change_file</span></code> or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">web_file</span></code> . This routine should be modified on systems whose standard text editor has special line-numbering conventions.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>33. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">jump_out</span></code> procedure just cuts across all active procedure levels and jumps out of the program. This is the only non-local &amp;goto statement in WEAVE. It is used when no recovery from a particular error has been provided.</p> <p>Some Pascal  compilers do not implement non-local <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">goto</span></code> statements. In such cases the code that appears at label <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">end_of_WEAVE</span></code> should be copied into the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">jump_out</span></code> procedure, followed by a call to a system procedure that terminates the program.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  fatal_error(#)  = </span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>34. Sometimes the program’s behavior is far different from what it should be, and WEAVE prints an error message that is really for the WEAVE maintenance person, not the user. In such cases the program says <code></code> .</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  confusion(#)  =
    </span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>35. An overflow stop occurs if WEAVE’s tables aren’t large enough.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  overflow(#)  =
    </span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>36. Data structures. During the first phase of its processing, WEAVE puts identifier names, index entries, and module names into the large <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">byte_mem</span></code> array, which is packed with eight-bit integers. Allocation is sequential, since names are never deleted.</p> <p>An auxiliary array <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">byte_start</span></code> is used as a directory for <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">byte_mem</span></code> , and the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">link</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ilk</span></code> , and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xref</span></code> arrays give further information about names. These auxiliary arrays consist of sixteen-bit items.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></section><section class="ttweave-nonfirst"> <p>37. WEAVE has been designed to avoid the need for indices that are more than sixteen bits wide, so that it can be used on most computers. But there are programs that need more than 65536 bytes; <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  is one of these. To get around this problem, a slight complication has been added to the data structures: <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">byte_mem</span></code> is a two-dimensional array, whose first index is either 0 or 1. (For generality, the first index is actually allowed to run between 0 and <code></code> , where <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ww</span></code> is defined to be 2; the program will work for any positive value of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ww</span></code> , and it can be simplified in obvious ways if <code></code> .)</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  ww  =
     2  //  we  multiply  the  byte  capacity  by  approximately  this  amount</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">







</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>38. The names of identifiers are found by computing a hash address <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">h</span></code> and then looking at strings of bytes signified by <code></code> , <code></code> , <code></code> , …, until either finding the desired name or encountering a zero.</p> <p>A ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">name_pointer</span></code> ’ variable, which signifies a name, is an index into <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">byte_start</span></code> . The actual sequence of characters in the name pointed to by <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">p</span></code> appears in positions <code></code> to <code></code> , inclusive, in the segment of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">byte_mem</span></code> whose first index is <code></code> . Thus, when <code></code> the even-numbered name bytes appear in <code></code> and the odd-numbered ones appear in <code></code> . The pointer 0 is used for undefined module names; we don’t want to use it for the names of identifiers, since 0 stands for a null pointer in a linked list.</p> <p>We usually have <code></code> for <code></code> , since these are the starting positions for the next <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ww</span></code> names to be stored in <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">byte_mem</span></code> .</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  length(#)  =
      //  the  length  of  a  name</span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>39. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>40. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>41. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>42. Several types of identifiers are distinguished by their <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ilk</span></code> :</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">normal</span></code> identifiers are part of the Pascal  program and will appear in italic type.</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">roman</span></code> identifiers are index entries that appear after @^ in the WEB file.</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">wildcard</span></code> identifiers are index entries that appear after @: in the WEB file.</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">typewriter</span></code> identifiers are index entries that appear after @. in the WEB file.</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">array_like</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">begin_like</span></code> , …, <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">var_like</span></code> identifiers are Pascal  reserved words whose <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ilk</span></code> explains how they are to be treated when Pascal  code is being formatted.</p> <p>Finally, if <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">c</span></code> is an ASCII code, an <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ilk</span></code> equal to <code></code> denotes a reserved word that will be converted to character <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">c</span></code> .</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  normal  =  0  //  ordinary  identifiers  have  normal  ilk</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  roman  =  1  //  normal  index  entries  have  roman  ilk</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  wildcard  =
     2  //  user-formatted  index  entries  have  wildcard  ilk</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  typewriter  =
     3  //  `typewriter  type'  entries  have  typewriter  ilk</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  reserved(#)  =
      //  tells  if  a  name  is  a  reserved  word</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  array_like  =  4  //  \&amp;{array},  \&amp;{file},  \&amp;{set}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  begin_like  =  5  //  \&amp;{begin}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  case_like  =  6  //  \&amp;{case}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  const_like  =  7  //  \&amp;{const},  \&amp;{label},  \&amp;{type}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  div_like  =  8  //  \&amp;{div},  \&amp;{mod}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  do_like  =  9  //  \&amp;{do},  \&amp;{of},  \&amp;{then}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  else_like  =  10  //  \&amp;{else}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  end_like  =  11  //  \&amp;{end}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  for_like  =  12  //  \&amp;{for},  \&amp;{while},  \&amp;{with}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  goto_like  =  13  //  \&amp;{goto},  \&amp;{packed}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  if_like  =  14  //  \&amp;{if}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  intercal_like  =  15  //  not  used</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  nil_like  =  16  //  \&amp;{nil}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  proc_like  =
     17  //  \&amp;{function},  \&amp;{procedure},  \&amp;{program}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  record_like  =  18  //  \&amp;{record}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  repeat_like  =  19  //  \&amp;{repeat}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  to_like  =  20  //  \&amp;{downto},  \&amp;{to}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  until_like  =  21  //  \&amp;{until}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  var_like  =  22  //  \&amp;{var}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  loop_like  =  23  //  \&amp;{loop},  \&amp;{xclause}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  char_like  =  24  //  \&amp;{and},  \&amp;{or},  \&amp;{not},  \&amp;{in}</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>43. The names of modules are stored in <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">byte_mem</span></code> together with the identifier names, but a hash table is not used for them because WEAVE needs to be able to recognize a module name when given a prefix of that name. A conventional binary search tree is used to retrieve module names, with fields called <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">llink</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">rlink</span></code> in place of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">link</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ilk</span></code> . The root of this tree is <code></code> .</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  llink  =
     link  //  left  link  in  binary  search  tree  for  module  names</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  rlink  =
     ilk  //  right  link  in  binary  search  tree  for  module  names</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  root  =
      //  the  root  of  the  binary  search  tree  for  module  names</span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>44. Here is a little procedure that prints the text of a given name on the user’s terminal.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>45. We keep track of the current module number in <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">module_count</span></code> , which is the total number of modules that have started. Modules which have been altered by a change file entry have their <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">changed_module</span></code> flag turned on during the first phase.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



</span></code></pre></section><section class="ttweave-nonfirst"> <p>46. The other large memory area in WEAVE keeps the cross-reference data. All uses of the name <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">p</span></code> are recorded in a linked list beginning at <code></code> , which points into the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xmem</span></code> array. Entries in <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xmem</span></code> consist of two sixteen-bit items per word, called the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">num</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xlink</span></code> fields. If <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">x</span></code> is an index into <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xmem</span></code> , reached from name <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">p</span></code> , the value of <code></code> is either a module number where <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">p</span></code> is used, or it is <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">def_flag</span></code> plus a module number where <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">p</span></code> is defined; and <code></code> points to the next such cross reference for <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">p</span></code> , if any. This list of cross references is in decreasing order by module number. The current number of cross references is <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xref_ptr</span></code> .</p> <p>The global variable <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xref_switch</span></code> is set either to <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">def_flag</span></code> or to zero, depending on whether the next cross reference to an identifier is to be underlined or not in the index. This switch is set to <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">def_flag</span></code> when @! or @d or @f is scanned, and it is cleared to zero when the next identifier or index entry cross reference has been made. Similarly, the global variable <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">mod_xref_switch</span></code> is either <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">def_flag</span></code> or zero, depending on whether a module name is being defined or used.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  num(#)  =
    </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  xlink(#)  =
    </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  def_flag  =
     10240  //  must  be  strictly  larger  than  max_modules </span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>47. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>48. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>49. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">







</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>50. A new cross reference for an identifier is formed by calling <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">new_xref</span></code> , which discards duplicate entries and ignores non-underlined references to one-letter identifiers or Pascal’s reserved words.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  append_xref(#)  = </span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>51. The cross reference lists for module names are slightly different. Suppose that a module name is defined in modules <span class="canvas canvas-inline" style="width: 1.2200974rem; height: 1.1607834rem; padding-left: 0.023999024rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.420785rem; left: 0.7779999rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span></span>, …, <span class="canvas canvas-inline" style="width: 1.1749573rem; height: 1.1607834rem; padding-left: 0.023999024rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.420785rem; left: 0.7779999rem; font-size: 0.7399994rem; font-family: tdux1vg0">𝑘</span></span> and used in modules <span class="canvas canvas-inline" style="width: 0.99809724rem; height: 1.1607834rem; padding-left: 0.023999024rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.420785rem; left: 0.55599976rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span></span>, …, <span class="canvas canvas-inline" style="width: 0.81901854rem; height: 1.1607834rem; padding-left: 0.023999024rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.420785rem; left: 0.55599976rem; font-size: 0.7399994rem; font-family: tdux1vg0">𝑙</span></span>. Then its list will contain <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 5.9915833rem; height: 1.1607834rem; padding-left: 0.023999024rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.420785rem; left: 0.7779999rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 1.4683411rem; font-size: 1rem; font-family: tdux1">+</span><span class="ci" style="top: -0.0000005364418rem; left: 2.450583rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 2.961583rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 3.3635833rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.005046129rem; left: 3.8045838rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: -0.0000005364418rem; left: 4.304584rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: -0.0000005364418rem; left: 4.745584rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: -0.0000005364418rem; left: 5.023584rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 5.467584rem; font-size: 1rem; font-family: tdux1">𝑔</span></span>, <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 5.963463rem; height: 1.1607834rem; padding-left: 0.023999024rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.420785rem; left: 0.7779999rem; font-size: 0.7399994rem; font-family: tdux1vg0">𝑘</span><span class="ci" style="top: -0.0000005364418rem; left: 1.4402207rem; font-size: 1rem; font-family: tdux1">+</span><span class="ci" style="top: -0.0000005364418rem; left: 2.4224625rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 2.9334626rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 3.335463rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.005046129rem; left: 3.7764633rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: -0.0000005364418rem; left: 4.2764635rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: -0.0000005364418rem; left: 4.717464rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: -0.0000005364418rem; left: 4.995464rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 5.439464rem; font-size: 1rem; font-family: tdux1">𝑔</span></span>, …, <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 5.9915833rem; height: 1.1607834rem; padding-left: 0.023999024rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.420785rem; left: 0.7779999rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 1.4683411rem; font-size: 1rem; font-family: tdux1">+</span><span class="ci" style="top: -0.0000005364418rem; left: 2.450583rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 2.961583rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 3.3635833rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.005046129rem; left: 3.8045838rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: -0.0000005364418rem; left: 4.304584rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: -0.0000005364418rem; left: 4.745584rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: -0.0000005364418rem; left: 5.023584rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 5.467584rem; font-size: 1rem; font-family: tdux1">𝑔</span></span>, <span class="canvas canvas-inline" style="width: 0.81901854rem; height: 1.1607834rem; padding-left: 0.023999024rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.420785rem; left: 0.55599976rem; font-size: 0.7399994rem; font-family: tdux1vg0">𝑙</span></span>, …, <span class="canvas canvas-inline" style="width: 0.99809724rem; height: 1.1607834rem; padding-left: 0.023999024rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.420785rem; left: 0.55599976rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span></span>, in this order. After Phase II, however, the order will be <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 5.9915833rem; height: 1.1607834rem; padding-left: 0.023999024rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.420785rem; left: 0.7779999rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 1.4683411rem; font-size: 1rem; font-family: tdux1">+</span><span class="ci" style="top: -0.0000005364418rem; left: 2.450583rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 2.961583rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 3.3635833rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.005046129rem; left: 3.8045838rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: -0.0000005364418rem; left: 4.304584rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: -0.0000005364418rem; left: 4.745584rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: -0.0000005364418rem; left: 5.023584rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 5.467584rem; font-size: 1rem; font-family: tdux1">𝑔</span></span>, …, <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 5.963463rem; height: 1.1607834rem; padding-left: 0.023999024rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.420785rem; left: 0.7779999rem; font-size: 0.7399994rem; font-family: tdux1vg0">𝑘</span><span class="ci" style="top: -0.0000005364418rem; left: 1.4402207rem; font-size: 1rem; font-family: tdux1">+</span><span class="ci" style="top: -0.0000005364418rem; left: 2.4224625rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 2.9334626rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 3.335463rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.005046129rem; left: 3.7764633rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: -0.0000005364418rem; left: 4.2764635rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: -0.0000005364418rem; left: 4.717464rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: -0.0000005364418rem; left: 4.995464rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 5.439464rem; font-size: 1rem; font-family: tdux1">𝑔</span></span>, <span class="canvas canvas-inline" style="width: 0.99809724rem; height: 1.1607834rem; padding-left: 0.023999024rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.420785rem; left: 0.55599976rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span></span>, …, <span class="canvas canvas-inline" style="width: 0.81901854rem; height: 1.1607834rem; padding-left: 0.023999024rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.420785rem; left: 0.55599976rem; font-size: 0.7399994rem; font-family: tdux1vg0">𝑙</span></span>.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>52. A third large area of memory is used for sixteen-bit ‘tokens’, which appear in short lists similar to the strings of characters in <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">byte_mem</span></code> . Token lists are used to contain the result of Pascal  code translated into <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  form; further details about them will be explained later. A <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">text_pointer</span></code> variable is an index into <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tok_start</span></code> .</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>53. The first position of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tok_mem</span></code> that is unoccupied by replacement text is called <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tok_ptr</span></code> , and the first unused location of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tok_start</span></code> is called <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">text_ptr</span></code> . Thus, we usually have <code></code> .</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">







 <p>stat



tats</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>54. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">







</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>55. Searching for identifiers. The hash table described above is updated by the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">id_lookup</span></code> procedure, which finds a given identifier and returns a pointer to its index in <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">byte_start</span></code> . The identifier is supposed to match character by character and it is also supposed to have a given <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ilk</span></code> code; the same name may be present more than once if it is supposed to appear in the index with different typesetting conventions. If the identifier was not already present, it is inserted into the table.</p> <p>Because of the way WEAVE’s scanning mechanism works, it is most convenient to let <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">id_lookup</span></code> search for an identifier that is present in the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">buffer</span></code> array. Two other global variables specify its position in the buffer: the first character is <code></code> , and the last is <code></code> .</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



</span></code></pre></section><section class="ttweave-nonfirst"> <p>56. Initially all the hash lists are empty.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>57. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>58. Here now is the main procedure for finding identifiers (and index entries). The parameter <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">t</span></code> is set to the desired <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ilk</span></code> code. The identifier must either have <code></code> , or we must have <code></code> and the identifier must be a reserved word.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>59. A simple hash code is used: If the sequence of ASCII codes is <span class="canvas canvas-inline" style="width: 3.838803rem; height: 1.1607834rem; padding-left: 0.025rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.420785rem; left: 0.40700075rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 0.87510073rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.420785rem; left: 1.2821015rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 1.9168824rem; font-size: 1rem; font-family: tdux1">…</span><span class="ci" style="top: -0.0000005364418rem; left: 2.943564rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.420785rem; left: 3.3505647rem; font-size: 0.7399994rem; font-family: tdux1vg0">𝑛</span></span>, its hash value will be <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <div class="canvas canvas-block" style="width: 19.140339rem; height: 1.3260605rem; padding-left: 0.1199997rem"><span class="ci" style="top: 0.16527653rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">(</span><span class="ci" style="top: 0.16527653rem; left: 0.42400056rem; font-size: 1rem; font-family: tdux1">2</span><span class="ci" style="top: -0.0000005364418rem; left: 0.92400056rem; font-size: 0.7399994rem; font-family: tdux1vg0">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 1.3872406rem; font-size: 0.7399994rem; font-family: tdux1">−</span><span class="ci" style="top: -0.0000005364418rem; left: 1.9496399rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: 0.16527653rem; left: 2.4177399rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.58606213rem; left: 2.8247406rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: 0.16527653rem; left: 3.515082rem; font-size: 1rem; font-family: tdux1">+</span><span class="ci" style="top: 0.16527653rem; left: 4.4973235rem; font-size: 1rem; font-family: tdux1">2</span><span class="ci" style="top: -0.0000005364418rem; left: 4.9973235rem; font-size: 0.7399994rem; font-family: tdux1vg0">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 5.4605637rem; font-size: 0.7399994rem; font-family: tdux1">−</span><span class="ci" style="top: -0.0000005364418rem; left: 6.022963rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: 0.16527653rem; left: 6.491063rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.58606213rem; left: 6.8980637rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: 0.16527653rem; left: 7.588405rem; font-size: 1rem; font-family: tdux1">+</span><span class="ci" style="top: 0.16527653rem; left: 8.570647rem; font-size: 1rem; font-family: tdux1">⋯</span><span class="ci" style="top: 0.16527653rem; left: 9.652888rem; font-size: 1rem; font-family: tdux1">+</span><span class="ci" style="top: 0.16527653rem; left: 10.635131rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.58606213rem; left: 11.042131rem; font-size: 0.7399994rem; font-family: tdux1vg0">𝑛</span><span class="ci" style="top: 0.16527653rem; left: 11.555371rem; font-size: 1rem; font-family: tdux1vg0">)</span><span class="ci" style="top: 0.1703232rem; left: 12.423854rem; font-size: 1rem; font-family: tdux4">m</span><span class="ci" style="top: 0.1703232rem; left: 13.306854rem; font-size: 1rem; font-family: tdux4">o</span><span class="ci" style="top: 0.1703232rem; left: 13.852855rem; font-size: 1rem; font-family: tdux4">d</span><span class="ci" style="top: 0.16527653rem; left: 14.908338rem; font-size: 1rem; font-family: tdux1">ℎ</span><span class="ci" style="top: 0.16527653rem; left: 15.408338rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.16527653rem; left: 15.852338rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.16527653rem; left: 16.241339rem; font-size: 1rem; font-family: tdux1">ℎ</span><span class="ci" style="top: 0.1703232rem; left: 16.741339rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: 0.16527653rem; left: 17.241339rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.16527653rem; left: 17.630339rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: 0.16527653rem; left: 17.924337rem; font-size: 1rem; font-family: tdux1">𝑧</span><span class="ci" style="top: 0.16527653rem; left: 18.368338rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.16527653rem; left: 18.770338rem; font-size: 1rem; font-family: tdux1">.</span></div></p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



</span></code></pre></section><section class="ttweave-nonfirst"> <p>60. If the identifier is new, it will be placed in position <code></code> , otherwise <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">p</span></code> will point to its existing location.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">









</span></code></pre></section><section class="ttweave-nonfirst"> <p>61. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>62. When we begin the following segment of the program, <code></code> .</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>63. Initializing the table of reserved words. We have to get Pascal’s reserved words into the hash table, and the simplest way to do this is to insert them every time WEAVE is run. A few macros permit us to do the initialization with a compact program.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  sid9(#)  =
    </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  sid8(#)  =
    
     sid9</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  sid7(#)  =
    
     sid8</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  sid6(#)  =
    
     sid7</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  sid5(#)  =
    
     sid6</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  sid4(#)  =
    
     sid5</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  sid3(#)  =
    
     sid4</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  sid2(#)  =
    
     sid3</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  sid1(#)  =
    
     sid2</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  id2  =
    
     sid8</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  id3  =
    
     sid7</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  id4  =
    
     sid6</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  id5  =
    
     sid5</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  id6  =
    
     sid4</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  id7  =
    
     sid3</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  id8  =
    
     sid2</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  id9  =
    
     sid1</span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>64. The intended use of the macros above might not be immediately obvious, but the riddle is answered by the following:</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">







































































</span></code></pre></section><section class="ttweave-nonfirst"> <p>65. Searching for module names. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">mod_lookup</span></code> procedure finds the module name <code></code> in the search tree, after inserting it if necessary, and returns a pointer to where it was found.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>66. According to the rules of WEB, no module name should be a proper prefix of another, so a “clean” comparison should occur between any two names. The result of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">mod_lookup</span></code> is 0 if this prefix condition is violated. An error message is printed when such violations are detected during phase two of WEAVE.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  less  =
     0  //  the  first  name  is  lexicographically  less  than  the  second</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  equal  =  1  //  the  first  name  is  equal  to  the  second</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  greater  =
     2  //  the  first  name  is  lexicographically  greater  than  the  second</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  prefix  =
     3  //  the  first  name  is  a  proper  prefix  of  the  second</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  extension  =
     4  //  the  first  name  is  a  proper  extension  of  the  second</span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>67. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

























</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>68. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>69. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">prefix_lookup</span></code> procedure is supposed to find exactly one module name that has <code></code> as a prefix. Actually the algorithm silently accepts also the situation that some module name is a prefix of <code></code> , because the user who painstakingly typed in more than necessary probably doesn’t want to be told about the wasted effort.</p> <p>Recall that error messages are not printed during phase one. It is possible that the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">prefix_lookup</span></code> procedure will fail on the first pass, because there is no match, yet the second pass might detect no error if a matching module name has occurred after the offending prefix. In such a case the cross-reference information will be incorrect and WEAVE will report no error. However, such a mistake will be detected by the TANGLE processor.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>70. Lexical scanning. Let us now consider the subroutines that read the WEB source file and break it into meaningful units. There are four such procedures: One simply skips to the next ‘@  ’ or ‘@*’ that begins a module; another passes over the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  text at the beginning of a module; the third passes over the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  text in a Pascal  comment; and the last, which is the most interesting, gets the next token of a Pascal  text.</p></section> <section class="ttweave-nonfirst"> <p>71. But first we need to consider the low-level routine <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">get_line</span></code> that takes care of merging <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">change_file</span></code> into <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">web_file</span></code> . The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">get_line</span></code> procedure also updates the line numbers for error messages.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">















</span></code></pre></section><section class="ttweave-nonfirst"> <p>72. As we change <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">changing</span></code> from <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">true</span></code> to <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">false</span></code> and back again, we must remember to swap the values of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">line</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">other_line</span></code> so that the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">err_print</span></code> routine will be sure to report the correct line number.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  change_changing  =
    </span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>73. When <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">changing</span></code> is <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">false</span></code> , the next line of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">change_file</span></code> is kept in <code></code> , for purposes of comparison with the next line of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">web_file</span></code> . After the change file has been completely input, we set <code></code> , so that no further matches will be made.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></section><section class="ttweave-nonfirst"> <p>74. Here’s a simple function that checks if the two buffers are different.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>75. Procedure <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">prime_the_change_buffer</span></code> sets <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">change_buffer</span></code> in preparation for the next matching operation. Since blank lines in the change file are not used for matching, we have <code></code> if and only if the change file is exhausted. This procedure is called only when <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">changing</span></code> is true; hence error messages will be reported correctly.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>76. While looking for a line that begins with @x in the change file, we allow lines that begin with @, as long as they don’t begin with @y or @z (which would probably indicate that the change file is fouled up).</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></section><section class="ttweave-nonfirst"> <p>77. Here we are looking at lines following the @x.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>78. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>79. The following procedure is used to see if the next change entry should go into effect; it is called only when <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">changing</span></code> is false. The idea is to test whether or not the current contents of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">buffer</span></code> matches the current contents of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">change_buffer</span></code> . If not, there’s nothing more to do; but if so, a change is called for: All of the text down to the @y is supposed to match. An error message is issued if any discrepancy is found. Then the procedure prepares to read the next line from <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">change_file</span></code> .</p> <p>When a match is found, the current module is marked as changed unless the first line after the @x and after the @y both start with either <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">"@@*"</span></code> or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">"@@  "</span></code> (possibly preceded by whitespace).</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  if_module_start_then_make_change_pending(#)  =
    </span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>80. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>81. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">reset_input</span></code> procedure, which gets WEAVE ready to read the user’s WEB input, is used at the beginning of phases one and two.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>82. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">get_line</span></code> procedure is called when <code></code> ; it puts the next line of merged input into the buffer and updates the other variables appropriately. A space is placed at the right end of the line.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>83. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>84. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>85. At the end of the program, we will tell the user if the change file had a line that didn’t match any relevant line in <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">web_file</span></code> .</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>86. Control codes in WEB, which begin with ‘@’, are converted into a numeric code designed to simplify WEAVE’s logic; for example, larger numbers are given to the control codes that denote more significant milestones, and the code of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">new_module</span></code> should be the largest of all. Some of these numeric control codes take the place of ASCII control codes that will not otherwise appear in the output of the scanning routines.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  ignore  =
     0  //  control  code  of  no  interest  to  \.{WEAVE}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  verbatim  =  0x2  //  extended  ASCII  alpha  will  not  appear</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  force_line  =  0x3  //  extended  ASCII  beta  will  not  appear</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  begin_comment  =  0x9  //  ASCII  tab  mark  will  not  appear</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  end_comment  =  0xa  //  ASCII  line  feed  will  not  appear</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  octal  =  0xc  //  ASCII  form  feed  will  not  appear</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  hex  =  0xd  //  ASCII  carriage  return  will  not  appear</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  double_dot  =
     0x20  //  ASCII  space  will  not  appear  except  in  strings</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  no_underline  =
     0x7d  //  this  code  will  be  intercepted  without  confusion</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  underline  =
     0x7e  //  this  code  will  be  intercepted  without  confusion</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  param  =  0x7f  //  ASCII  delete  will  not  appear</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  xref_roman  =  0x83  //  control  code  for  `\.{@@\^}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  xref_wildcard  =  0x84  //  control  code  for  `\.{@@:}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  xref_typewriter  =  0x85  //  control  code  for  `\.{@@.}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  TeX_string  =  0x86  //  control  code  for  `\.{@@t}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  check_sum  =  0x87  //  control  code  for  `\.{@@\$}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  join  =  0x88  //  control  code  for  `\.{@@\&amp;}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  thin_space  =  0x89  //  control  code  for  `\.{@@,}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  math_break  =  0x8a  //  control  code  for  `\.{@@\char'174}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  line_break  =  0x8b  //  control  code  for  `\.{@@/}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  big_line_break  =  0x8c  //  control  code  for  `\.{@@\#}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  no_line_break  =  0x8d  //  control  code  for  `\.{@@+}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  pseudo_semi  =  0x8e  //  control  code  for  `\.{@@;}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  format  =  0x8f  //  control  code  for  `\.{@@f}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  definition  =  0x90  //  control  code  for  `\.{@@d}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  begin_Pascal  =  0x91  //  control  code  for  `\.{@@p}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  module_name  =  0x92  //  control  code  for  `\.{@@&lt;}'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  new_module  =
     0x93  //  control  code  for  `\.{@@\  }'  and  `\.{@@*}'</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>87. Control codes are converted from ASCII to WEAVE’s internal representation by the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">control_code</span></code> routine.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>88. If WEAVE is compiled with debugging commands, one can write @2, @1, and @0 to turn tracing fully on, partly on, and off, respectively.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>89. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">skip_limbo</span></code> routine is used on the first pass to skip through portions of the input that are not in any modules, i.e., that precede the first module. After this procedure has been called, the value of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">input_has_ended</span></code> will tell whether or not a new module has actually been found.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>90. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">skip_TeX</span></code> routine is used on the first pass to skip through the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  code at the beginning of a module. It returns the next control code or ‘|’ found in the input. A <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">new_module</span></code> is assumed to exist at the very end of the file.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>91. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">skip_comment</span></code> routine is used on the first pass to skip through <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  code in Pascal  comments. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">bal</span></code> parameter tells how many left braces are assumed to have been scanned when this routine is called, and the procedure returns a corresponding value of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">bal</span></code> at the point that scanning has stopped. Scanning stops either at a ‘|’ that introduces Pascal  text, in which case the returned value is positive, or it stops at the end of the comment, in which case the returned value is zero. The scanning also stops in anomalous situations when the comment doesn’t end or when it contains an illegal use of @. One should call <code></code> when beginning to scan a comment.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>92. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>93. Inputting the next token. As stated above, WEAVE’s most interesting lexical scanning routine is the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">get_next</span></code> function that inputs the next token of Pascal  input. However, <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">get_next</span></code> is not especially complicated.</p> <p>The result of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">get_next</span></code> is either an ASCII code for some special character, or it is a special code representing a pair of characters (e.g., ‘:=’ or ‘..’), or it is the numeric value computed by the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">control_code</span></code> procedure, or it is one of the following special codes:</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">exponent</span></code> : The ‘E’ in a real constant.</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">identifier</span></code> : In this case the global variables <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">id_first</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">id_loc</span></code> will have been set to the appropriate values needed by the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">id_lookup</span></code> routine.</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">string</span></code> : In this case the global variables <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">id_first</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">id_loc</span></code> will have been set to the beginning and ending-plus-one locations in the buffer. The string ends with the first reappearance of its initial delimiter; thus, for example, <div class="canvas canvas-block" style="width: 15.442rem; height: 1.3319978rem; padding-left: 0.21699981rem"><span class="ci" style="top: 0.25323606rem; left: 0rem; font-size: 1rem; font-family: tdux2">'</span><span class="ci" style="top: 0.25323606rem; left: 0.52500004rem; font-size: 1rem; font-family: tdux2">T</span><span class="ci" style="top: 0.25323606rem; left: 1.0500001rem; font-size: 1rem; font-family: tdux2">h</span><span class="ci" style="top: 0.25323606rem; left: 1.575rem; font-size: 1rem; font-family: tdux2">i</span><span class="ci" style="top: 0.25323606rem; left: 2.1000001rem; font-size: 1rem; font-family: tdux2">s</span><span class="ci" style="top: 0.25323606rem; left: 3.15rem; font-size: 1rem; font-family: tdux2">i</span><span class="ci" style="top: 0.25323606rem; left: 3.675rem; font-size: 1rem; font-family: tdux2">s</span><span class="ci" style="top: 0.25323606rem; left: 4.2000003rem; font-size: 1rem; font-family: tdux2">n</span><span class="ci" style="top: 0.25323606rem; left: 4.725rem; font-size: 1rem; font-family: tdux2">'</span><span class="ci" style="top: 0.25323606rem; left: 5.25rem; font-size: 1rem; font-family: tdux2">'</span><span class="ci" style="top: 0.25323606rem; left: 5.775rem; font-size: 1rem; font-family: tdux2">t</span><span class="ci" style="top: 0.25323606rem; left: 6.8250003rem; font-size: 1rem; font-family: tdux2">a</span><span class="ci" style="top: 0.25323606rem; left: 7.875rem; font-size: 1rem; font-family: tdux2">s</span><span class="ci" style="top: 0.25323606rem; left: 8.400001rem; font-size: 1rem; font-family: tdux2">i</span><span class="ci" style="top: 0.25323606rem; left: 8.925rem; font-size: 1rem; font-family: tdux2">n</span><span class="ci" style="top: 0.25323606rem; left: 9.45rem; font-size: 1rem; font-family: tdux2">g</span><span class="ci" style="top: 0.25323606rem; left: 9.975rem; font-size: 1rem; font-family: tdux2">l</span><span class="ci" style="top: 0.25323606rem; left: 10.5rem; font-size: 1rem; font-family: tdux2">e</span><span class="ci" style="top: 0.25323606rem; left: 11.55rem; font-size: 1rem; font-family: tdux2">s</span><span class="ci" style="top: 0.25323606rem; left: 12.075rem; font-size: 1rem; font-family: tdux2">t</span><span class="ci" style="top: 0.25323606rem; left: 12.6rem; font-size: 1rem; font-family: tdux2">r</span><span class="ci" style="top: 0.25323606rem; left: 13.125rem; font-size: 1rem; font-family: tdux2">i</span><span class="ci" style="top: 0.25323606rem; left: 13.650001rem; font-size: 1rem; font-family: tdux2">n</span><span class="ci" style="top: 0.25323606rem; left: 14.175rem; font-size: 1rem; font-family: tdux2">g</span><span class="ci" style="top: 0.25323606rem; left: 14.7rem; font-size: 1rem; font-family: tdux2">'</span></div> will be treated as two consecutive strings, the first being This isn .</p> <p>Furthermore, some of the control codes cause <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">get_next</span></code> to take additional actions:</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xref_roman</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xref_wildcard</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xref_typewriter</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">TeX_string</span></code> : The values of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">id_first</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">id_loc</span></code> will be set so that the string in question appears in <code></code> .</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">module_name</span></code> : In this case the global variable <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cur_module</span></code> will point to the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">byte_start</span></code> entry for the module name that has just been scanned.</p> <p>If <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">get_next</span></code> sees ‘@!’ or ‘@?’, it sets <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xref_switch</span></code> to <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">def_flag</span></code> or zero and goes on to the next token.</p> <p>A global variable called <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">scanning_hex</span></code> is set <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">true</span></code> during the time that the letters A through F should be treated as if they were digits.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  exponent  =  0x80  //  \.E  or  \.e  following  a  digit</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  string  =
     0x81  //  \PASCAL\  string  or  \.{WEB}  precomputed  string</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  identifier  =
     0x82  //  \PASCAL\  identifier  or  reserved  word</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>94. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>95. As one might expect, <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">get_next</span></code> consists mostly of a big switch that branches to the various special cases that can arise.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  up_to(#)  = </span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>96. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>97. Note that the following code substitutes @{ and @} for the respective combinations ‘(*’ and ‘*)’. Explicit braces should be used for <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  comments in Pascal  text.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  compress(#)  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">











</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>98. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>99. A string that starts and ends with single or double quote marks is scanned by the following piece of the program.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>100. After an @ sign has been scanned, the next character tells us whether there is more work to do.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>101. The occurrence of a module name sets <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">xref_switch</span></code> to zero, because the module name might (for example) follow &amp;var.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>102. Module names are placed into the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">mod_text</span></code> array with consecutive spaces, tabs, and carriage-returns replaced by single spaces. There will be no spaces at the beginning or the end. (We set <code></code> to facilitate this, since the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">mod_lookup</span></code> routine uses <code></code> as the first character of the name.)</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>103. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">





&lt;  Check  for  overlong  name  &gt;

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>104. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>105. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>106. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>107. A verbatim Pascal  string will be treated like ordinary strings, but with no surrounding delimiters. At the present point in the program we have <code></code> ; we must set <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">id_first</span></code> to the beginning of the string itself, and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">id_loc</span></code> to its ending-plus-one location in the buffer. We also set <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">loc</span></code> to the position just after the ending delimiter.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>108. Phase one processing. We now have accumulated enough subroutines to make it possible to carry out WEAVE’s first pass over the source file. If everything works right, both phase one and phase two of WEAVE will assign the same numbers to modules, and these numbers will agree with what TANGLE does.</p> <p>The global variable <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">next_control</span></code> often contains the most recent output of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">get_next</span></code> ; in interesting cases, this will be the control code that ended a module or part of a module.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>109. The overall processing strategy in phase one has the following straightforward outline.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



 <p>reset_input





skip_limbo









</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>110. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>111. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">Pascal_xref</span></code> subroutine stores references to identifiers in Pascal  text material beginning with the current value of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">next_control</span></code> and continuing until <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">next_control</span></code> is ‘{’ or ‘|’, or until the next “milestone” is passed (i.e., <code></code> ). If <code></code> when <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">Pascal_xref</span></code> is called, nothing will happen; but if <code></code> upon entry, the procedure assumes that this is the ‘|’ preceding Pascal  text that is to be processed.</p> <p>The program uses the fact that our internal code numbers satisfy the relations <code></code> and <code></code> and <code></code> and <code></code> . An implied ‘@!’ is inserted after &amp;function, &amp;procedure, &amp;program, and &amp;var.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>112. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">outer_xref</span></code> subroutine is like <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">Pascal_xref</span></code> but it begins with <code></code> and ends with <code></code> . Thus, it handles Pascal  text with embedded comments.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>113. In the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  part of a module, cross reference entries are made only for the identifiers in Pascal  texts enclosed in <span class="canvas canvas-inline" style="width: 2.4703615rem; height: 1.3319978rem; padding-left: 0.22699891rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.25323606rem; left: 0rem; font-size: 1rem; font-family: tdux2">|</span><span class="ci" style="top: 0.28999883rem; left: 0.6916809rem; font-size: 1rem; font-family: tdux1">…</span><span class="ci" style="top: 0.25323606rem; left: 1.7183625rem; font-size: 1rem; font-family: tdux2">|</span></span>, or for control texts enclosed in @^<span class="canvas canvas-inline" style="width: 0.93999785rem; height: 0.9999985rem; padding-left: -0.08668213rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0.16668092rem; font-size: 1rem; font-family: tdux1">…</span></span> @&gt; or @.<span class="canvas canvas-inline" style="width: 0.93999785rem; height: 0.9999985rem; padding-left: -0.08668213rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0.16668092rem; font-size: 1rem; font-family: tdux1">…</span></span> @&gt; or @:<span class="canvas canvas-inline" style="width: 0.93999785rem; height: 0.9999985rem; padding-left: -0.08668213rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0.16668092rem; font-size: 1rem; font-family: tdux1">…</span></span> @&gt;.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>repeat





until

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>114. During the definition and Pascal  parts of a module, cross references are made for all identifiers except reserved words; however, the identifiers in a format definition are referenced even if they are reserved. The <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  code in comments is, of course, ignored, except for Pascal  portions enclosed in <span class="canvas canvas-inline" style="width: 2.4703615rem; height: 1.3319978rem; padding-left: 0.22699891rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.25323606rem; left: 0rem; font-size: 1rem; font-family: tdux2">|</span><span class="ci" style="top: 0.28999883rem; left: 0.6916809rem; font-size: 1rem; font-family: tdux1">…</span><span class="ci" style="top: 0.25323606rem; left: 1.7183625rem; font-size: 1rem; font-family: tdux2">|</span></span>; the text of a module name is skipped entirely, even if it contains <span class="canvas canvas-inline" style="width: 2.4703615rem; height: 1.3319978rem; padding-left: 0.22699891rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.25323606rem; left: 0rem; font-size: 1rem; font-family: tdux2">|</span><span class="ci" style="top: 0.28999883rem; left: 0.6916809rem; font-size: 1rem; font-family: tdux1">…</span><span class="ci" style="top: 0.25323606rem; left: 1.7183625rem; font-size: 1rem; font-family: tdux2">|</span></span>  constructions.</p> <p>The variables <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">lhs</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">rhs</span></code> point to the respective identifiers involved in a format definition.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>115. When we get to the following code we have <code></code> .</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>while



do  //   format  or  definition 

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>116. Error messages for improper format definitions will be issued in phase two. Our job in phase one is to define the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ilk</span></code> of a properly formatted identifier, and to fool the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">new_xref</span></code> routine into thinking that the identifier on the right-hand side of the format definition is not a reserved word.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>117. Finally, when the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  and definition parts have been treated, we have <code></code> .</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>118. After phase one has looked at everything, we want to check that each module name was both defined and used. The variable <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cur_xref</span></code> will point to cross references for the current module name of interest.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>119. The following recursive procedure walks through the tree of module names and prints out anomalies.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>120. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>121. Low-level output routines. The <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  output is supposed to appear in lines at most <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">line_length</span></code> characters long, so we place it into an output buffer. During the output process, <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">out_line</span></code> will hold the current line number of the line about to be output.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



</span></code></pre></section><section class="ttweave-nonfirst"> <p>122. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">flush_buffer</span></code> routine empties the buffer up to a given breakpoint, and moves any remaining characters to the beginning of the next line. If the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">per_cent</span></code> parameter is <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">true</span></code> , a <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">strpool!("%")</span></code> is appended to the line that is being output; in this case the breakpoint <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">b</span></code> should be strictly less than <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">line_length</span></code> . If the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">per_cent</span></code> parameter is <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">false</span></code> , trailing blanks are suppressed. The characters emptied from the buffer form a new line of output; if the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">carryover</span></code> parameter is true, a <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">strpool!("%")</span></code> in that line will be carried over to the next line (so that <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  will ignore the completion of commented-out text).</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>123. When we are copying <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  source material, we retain line breaks that occur in the input, except that an empty line is not output when the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  source line was nonempty. For example, a line of the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  file that contains only an index cross-reference entry will not be copied. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">finish_line</span></code> routine is called just before <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">get_line</span></code> inputs a new line, and just after a line break token has been emitted during the output of translated Pascal  text.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>124. In particular, the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">finish_line</span></code> procedure is called near the very beginning of phase two. We initialize the output variables in a slightly tricky way so that the first line of the output file will be ‘\input webmac’.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">





</span></code></pre></section><section class="ttweave-nonfirst"> <p>125. When we wish to append the character <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">c</span></code> to the output buffer, we write ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 2.6200013rem; height: 0.9999985rem; padding-left: 0.016999817rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 0.44400024rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: -0.0000005364418rem; left: 1rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 1.3380005rem; font-size: 1rem; font-family: tdux1vg0">(</span><span class="ci" style="top: -0.0000005364418rem; left: 1.762001rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 2.1790025rem; font-size: 1rem; font-family: tdux1vg0">)</span></span>’; this will cause the buffer to be emptied if it was already full. Similarly, ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 5.3012023rem; height: 1.1607834rem; padding-left: 0.016999817rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 0.44400024rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: -0.0000005364418rem; left: 1rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 1.3380005rem; font-size: 1rem; font-family: tdux1">2</span><span class="ci" style="top: -0.0000005364418rem; left: 1.8380005rem; font-size: 1rem; font-family: tdux1vg0">(</span><span class="ci" style="top: -0.0000005364418rem; left: 2.262001rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.420785rem; left: 2.6690018rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 3.137102rem; font-size: 1rem; font-family: tdux1vg0">)</span><span class="ci" style="top: -0.0000005364418rem; left: 3.5611024rem; font-size: 1rem; font-family: tdux1vg0">(</span><span class="ci" style="top: -0.0000005364418rem; left: 3.985103rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.420785rem; left: 4.3921037rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 4.8602037rem; font-size: 1rem; font-family: tdux1vg0">)</span></span>’ appends a pair of characters. A line break will occur at a space or after a single-nonletter <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  control sequence.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  oot(#)  =
    </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  oot1(#)  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  oot2(#)  =
    
     oot1</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  oot3(#)  =
    
     oot2</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  oot4(#)  =
    
     oot3</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  oot5(#)  =
    
     oot4</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  out  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  out2  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  out3  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  out4  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  out5  = </span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>126. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">break_out</span></code> routine is called just before the output buffer is about to overflow. To make this routine a little faster, we initialize position 0 of the output buffer to ‘\’; this character isn’t really output.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>127. A long line is broken at a blank space or just before a backslash that isn’t preceded by another backslash. In the latter case, a <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">strpool!("%")</span></code> is output at the break.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>128. We get to this module only in unusual cases that the entire output line consists of a string of backslashes followed by a string of nonblank non-backslashes. In such cases it is almost always safe to break the line by putting a <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">strpool!("%")</span></code> just before the last character.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>129. Here is a procedure that outputs a module number in decimal notation.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>130. The number to be converted by <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">out_mod</span></code> is known to be less than <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">def_flag</span></code> , so it cannot have more than five decimal digits. If the module is changed, we output ‘\*’ just after the number.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>131. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">out_name</span></code> subroutine is used to output an identifier or index entry, enclosing it in braces.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>132. Routines that copy <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  material. During phase two, we use the subroutines <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">copy_limbo</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">copy_TeX</span></code> , and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">copy_comment</span></code> in place of the analogous <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">skip_limbo</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">skip_TeX</span></code> , and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">skip_comment</span></code> that were used in phase one.</p> <p>The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">copy_limbo</span></code> routine, for example, takes <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  material that is not part of any module and transcribes it almost verbatim to the output file. No ‘@’ signs should occur in such material except in ‘@@’ pairs; such pairs are replaced by singletons.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>133. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>134. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">copy_TeX</span></code> routine processes the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  code at the beginning of a module; for example, the words you are now reading were copied in this way. It returns the next control code or ‘|’ found in the input.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>135. We don’t copy spaces or tab marks into the beginning of a line. This makes the test for empty lines in <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">finish_line</span></code> work.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></section><section class="ttweave-nonfirst"> <p>136. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">copy_comment</span></code> uses and returns a brace-balance value, following the conventions of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">skip_comment</span></code> above. Instead of copying the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  material into the output buffer, this procedure copies it into the token memory. The abbreviation <code></code> is used to append token <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">t</span></code> to the current token list, and it also makes sure that it is possible to append at least one further token without overflow.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  app_tok(#)  = </span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>137. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>138. When the comment has terminated abruptly due to an error, we output enough right braces to keep <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  happy.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



</span></code></pre></section><section class="ttweave-nonfirst"> <p>139. Parsing. The most intricate part of WEAVE is its mechanism for converting Pascal-like code into <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  code, and we might as well plunge into this aspect of the program now. A “bottom up” approach is used to parse the Pascal-like material, since WEAVE must deal with fragmentary constructions whose overall “part of speech” is not known.</p> <p>At the lowest level, the input is represented as a sequence of entities that we shall call scraps, where each scrap of information consists of two parts, its category and its translation. The category is essentially a syntactic class, and the translation is a token list that represents <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  code. Rules of syntax and semantics tell us how to combine adjacent scraps into larger ones, and if we are lucky an entire Pascal  text that starts out as hundreds of small scraps will join together into one gigantic scrap whose translation is the desired <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  code. If we are unlucky, we will be left with several scraps that don’t combine; their translations will simply be output, one by one.</p> <p>The combination rules are given as context-sensitive productions that are applied from left to right. Suppose that we are currently working on the sequence of scraps <span class="canvas canvas-inline" style="width: 3.9354813rem; height: 1.1607834rem; padding-left: 0.008999634rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.420785rem; left: 0.38899994rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 1.0237808rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.420785rem; left: 1.4127808rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 2.0475616rem; font-size: 1rem; font-family: tdux1">…</span><span class="ci" style="top: -0.0000005364418rem; left: 3.0742433rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.420785rem; left: 3.4632432rem; font-size: 0.7399994rem; font-family: tdux1vg0">𝑛</span></span>. We try first to find the longest production that applies to an initial substring <span class="canvas canvas-inline" style="width: 2.9165604rem; height: 1.1607834rem; padding-left: 0.008999634rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.420785rem; left: 0.38899994rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 1.0237808rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.420785rem; left: 1.4127808rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 2.0475616rem; font-size: 1rem; font-family: tdux1">…</span></span> ; but if no such productions exist, we try to find the longest production applicable to the next substring <span class="canvas canvas-inline" style="width: 2.9165604rem; height: 1.1607834rem; padding-left: 0.008999634rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.420785rem; left: 0.38899994rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 1.0237808rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.420785rem; left: 1.4127808rem; font-size: 0.7399994rem; font-family: tdux1vg0">3</span><span class="ci" style="top: -0.0000005364418rem; left: 2.0475616rem; font-size: 1rem; font-family: tdux1">…</span></span> ; and if that fails, we try to match <span class="canvas canvas-inline" style="width: 2.9165604rem; height: 1.1607834rem; padding-left: 0.008999634rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.420785rem; left: 0.38899994rem; font-size: 0.7399994rem; font-family: tdux1vg0">3</span><span class="ci" style="top: -0.0000005364418rem; left: 1.0237808rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.420785rem; left: 1.4127808rem; font-size: 0.7399994rem; font-family: tdux1vg0">4</span><span class="ci" style="top: -0.0000005364418rem; left: 2.0475616rem; font-size: 1rem; font-family: tdux1">…</span></span> , etc.</p> <p>A production applies if the category codes have a given pattern. For example, one of the productions is <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <div class="canvas canvas-block" style="width: 12.026644rem; height: 1.0001053rem; padding-left: 0.016999817rem"><span class="ci" style="top: 0.00007724762rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.00007724762rem; left: 0.44400024rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.00007724762rem; left: 0.94400024rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.00007724762rem; left: 1.3460007rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.00007724762rem; left: 2.179802rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.00007724762rem; left: 2.9578018rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.00007724762rem; left: 3.401802rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.00007724762rem; left: 3.7398026rem; font-size: 1rem; font-family: tdux1">ℎ</span><span class="ci" style="top: 0.00007724762rem; left: 4.5176044rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.00007724762rem; left: 4.9066043rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.00007724762rem; left: 5.3086047rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.00007724762rem; left: 6.0866046rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: -0.00000029802322rem; left: 6.936208rem; font-size: 1.0001068rem; font-family: tdux1">!</span><span class="ci" style="top: 0.00007724762rem; left: 7.769841rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.00007724762rem; left: 8.213841rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.00007724762rem; left: 8.713841rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.00007724762rem; left: 9.115842rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.00007724762rem; left: 9.949643rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.00007724762rem; left: 10.727643rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.00007724762rem; left: 11.171643rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.00007724762rem; left: 11.509644rem; font-size: 1rem; font-family: tdux1">ℎ</span></div> and it means that three consecutive scraps whose respective categories are <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> , and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">semi</span></code> are converted to two scraps whose categories are <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> . This production also has an associated rule that tells how to combine the translation parts: <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <div class="canvas canvas-block" style="width: 9.01855rem; height: 2.6607835rem; padding-left: -0.18567963rem"><span class="ci" style="top: -0.0000005364418rem; left: 0.33268127rem; font-size: 1rem; font-family: tdux1">𝑂</span><span class="ci" style="top: 0.420785rem; left: 1.1106812rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 1.8565826rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 2.8943849rem; font-size: 1rem; font-family: tdux1">𝑂</span><span class="ci" style="top: 0.420785rem; left: 3.6723847rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: 1.4999995rem; left: 0.16668092rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 1.9207852rem; left: 1.1106812rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: 1.4999995rem; left: 1.8565826rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 1.4999995rem; left: 2.8943849rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 1.9207852rem; left: 3.838385rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: 1.4999995rem; left: 4.473166rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 1.4632368rem; left: 5.1958466rem; font-size: 1rem; font-family: tdux2">\</span><span class="ci" style="top: 1.4632368rem; left: 5.7208467rem; font-size: 1rem; font-family: tdux2">,</span><span class="ci" style="top: 1.4632368rem; left: 6.4125276rem; font-size: 1rem; font-family: tdux2">o</span><span class="ci" style="top: 1.4632368rem; left: 6.9375277rem; font-size: 1rem; font-family: tdux2">p</span><span class="ci" style="top: 1.4632368rem; left: 7.4625278rem; font-size: 1rem; font-family: tdux2">t</span><span class="ci" style="top: 1.4632368rem; left: 8.67923rem; font-size: 1rem; font-family: tdux2">5</span></div> This means that the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open</span></code> scrap has not changed, while the new <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> scrap has a translation <span class="canvas canvas-inline" style="width: 1.3431rem; height: 1.1607834rem; padding-left: -0.018998718rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.420785rem; left: 0.94400024rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span></span> composed of the translation <span class="canvas canvas-inline" style="width: 1.3431rem; height: 1.1607834rem; padding-left: -0.018998718rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.420785rem; left: 0.94400024rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span></span> of the original <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> scrap followed by the translation <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">S</span></code> of the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">semi</span></code> scrap followed by ‘\,’ followed by ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">opt</span></code> ’ followed by ‘5’. (In the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  file, this will specify an additional thin space after the semicolon, followed by an optional line break with penalty 50.) Translation rules use subscripts to distinguish between translations of scraps whose categories have the same initial letter; these subscripts are assigned from left to right.</p> <p><span class="canvas canvas-inline" style="width: 2.6359985rem; height: 1.3319978rem; padding-left: 0.010998535rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.25323606rem; left: 0rem; font-size: 1rem; font-family: tdux2">W</span><span class="ci" style="top: 0.25323606rem; left: 0.52500004rem; font-size: 1rem; font-family: tdux2">E</span><span class="ci" style="top: 0.25323606rem; left: 1.0500001rem; font-size: 1rem; font-family: tdux2">A</span><span class="ci" style="top: 0.25323606rem; left: 1.575rem; font-size: 1rem; font-family: tdux2">V</span><span class="ci" style="top: 0.25323606rem; left: 2.1000001rem; font-size: 1rem; font-family: tdux2">E</span></span> also has the production rule <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <div class="canvas canvas-block" style="width: 7.656238rem; height: 1.0001053rem; padding-left: 0.008999634rem"><span class="ci" style="top: 0.00007724762rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.00007724762rem; left: 0.38899994rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.00007724762rem; left: 0.79100037rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.00007724762rem; left: 1.5690002rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: -0.00000029802322rem; left: 2.4186037rem; font-size: 1.0001068rem; font-family: tdux1">!</span><span class="ci" style="top: 0.00007724762rem; left: 3.252237rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.00007724762rem; left: 3.5902374rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.00007724762rem; left: 3.9922378rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.00007724762rem; left: 4.4042373rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.00007724762rem; left: 5.182237rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: 0.00007724762rem; left: 5.476238rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.00007724762rem; left: 6.0322375rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.00007724762rem; left: 6.476238rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.00007724762rem; left: 6.814238rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.00007724762rem; left: 7.2582383rem; font-size: 1rem; font-family: tdux1">𝑟</span></div> (meaning that a semicolon can terminate a Pascal  statement). Since productions are applied from left to right, this rule will be activated only if the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">semi</span></code> is not preceded by scraps that match other productions; in particular, a <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">semi</span></code> that is preceded by ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> ’ will have disappeared because of the production above, and such semicolons do not act as statement terminators. This incidentally is how WEAVE is able to treat semicolons in two distinctly different ways, the first of which is intended for semicolons in the parameter list of a procedure declaration.</p> <p>The translation rule corresponding to <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 7.656238rem; height: 1.0001053rem; padding-left: 0.008999634rem; vertical-align: -0.27402803rem"><span class="ci" style="top: 0.00007724762rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.00007724762rem; left: 0.38899994rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.00007724762rem; left: 0.79100037rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.00007724762rem; left: 1.5690002rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: -0.00000029802322rem; left: 2.4186037rem; font-size: 1.0001068rem; font-family: tdux1">!</span><span class="ci" style="top: 0.00007724762rem; left: 3.252237rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.00007724762rem; left: 3.5902374rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.00007724762rem; left: 3.9922378rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.00007724762rem; left: 4.4042373rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.00007724762rem; left: 5.182237rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: 0.00007724762rem; left: 5.476238rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.00007724762rem; left: 6.0322375rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.00007724762rem; left: 6.476238rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.00007724762rem; left: 6.814238rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.00007724762rem; left: 7.2582383rem; font-size: 1rem; font-family: tdux1">𝑟</span></span> is <div class="canvas canvas-block" style="width: 2.5876038rem; height: 0.9999985rem; padding-left: 0.05299988rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑇</span><span class="ci" style="top: -0.0000005364418rem; left: 0.94080204rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 1.9786042rem; font-size: 1rem; font-family: tdux1">𝑆</span></div> but we shall not mention translation rules in the common case that the translation of the new scrap on the right-hand side is simply the concatenation of the disappearing scraps on the left-hand side.</p></section> <section class="ttweave-nonfirst"> <p>140. Here is a list of the category codes that scraps can have.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  simp  =
     1  //  the  translation  can  be  used  both  in  horizontal  mode  and  in  math  mode  of  \TeX</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  math  =
     2  //  the  translation  should  be  used  only  in  \TeX\  math  mode</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  intro  =
     3  //  a  statement  is  expected  to  follow  this,  after  a  space  and  an  optional  break</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  open  =
     4  //  denotes  an  incomplete  parenthesized  quantity  to  be  used  in  math  mode</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  beginning  =
     5  //  denotes  an  incomplete  compound  statement  to  be  used  in  horizontal  mode</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  close  =  6  //  ends  a  parenthesis  or  compound  statement</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  alpha  =  7  //  denotes  the  beginning  of  a  clause</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  omega  =
     8  //  denotes  the  ending  of  a  clause  and  possible  comment  following</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  semi  =
     9  //  denotes  a  semicolon  and  possible  comment  following  it</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  terminator  =
     10  //  something  that  ends  a  statement  or  declaration</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  stmt  =
     11  //  denotes  a  statement  or  declaration  including  its  terminator</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  cond  =
     12  //  precedes  an  \&amp;{if}  clause  that  might  have  a  matching  \&amp;{else}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  clause  =
     13  //  precedes  a  statement  after  which  indentation  ends</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  colon  =  14  //  denotes  a  colon</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  exp  =
     15  //  stands  for  the  E  in  a  floating  point  constant</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  proc  =
     16  //  denotes  a  procedure  or  program  or  function  heading</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  case_head  =
     17  //  denotes  a  case  statement  or  record  heading</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  record_head  =
     18  //  denotes  a  record  heading  without  indentation</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  var_head  =
     19  //  denotes  a  variable  declaration  heading</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  elsie  =  20  //  \&amp;{else}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  casey  =  21  //  \&amp;{case}</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  mod_scrap  =  22  //  denotes  a  module  name</span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>141. The token lists for translated <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  output contain some special control symbols as well as ordinary characters. These control symbols are interpreted by WEAVE before they are written to the output file.</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">break_space</span></code> denotes an optional line break or an en space;</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> denotes a line break;</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">big_force</span></code> denotes a line break with additional vertical space;</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">opt</span></code> denotes an optional line break (with the continuation line indented two ems with respect to the normal starting position)—this code is followed by an integer <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">n</span></code> , and the break will occur with penalty <span class="canvas canvas-inline" style="width: 1.6159989rem; height: 0.9999985rem; padding-left: 0.059999086rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">1</span><span class="ci" style="top: -0.0000005364418rem; left: 0.5rem; font-size: 1rem; font-family: tdux1">0</span><span class="ci" style="top: -0.0000005364418rem; left: 1rem; font-size: 1rem; font-family: tdux1">𝑛</span></span>;</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">backup</span></code> denotes a backspace of one em;</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cancel</span></code> obliterates any <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">break_space</span></code> or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">big_force</span></code> tokens that immediately precede or follow it and also cancels any <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">backup</span></code> tokens that follow it;</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">indent</span></code> causes future lines to be indented one more em;</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">outdent</span></code> causes future lines to be indented one less em.</p> <p>All of these tokens are removed from the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  output that comes from Pascal  text between <span class="canvas canvas-inline" style="width: 2.4703615rem; height: 1.3319978rem; padding-left: 0.22699891rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.25323606rem; left: 0rem; font-size: 1rem; font-family: tdux2">|</span><span class="ci" style="top: 0.28999883rem; left: 0.6916809rem; font-size: 1rem; font-family: tdux1">…</span><span class="ci" style="top: 0.25323606rem; left: 1.7183625rem; font-size: 1rem; font-family: tdux2">|</span></span>  signs; <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">break_space</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">big_force</span></code> become single spaces in this mode. The translation of other Pascal  texts results in <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  control sequences \1, \2, \3, \4, \5, \6, \7 corresponding respectively to <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">indent</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">outdent</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">opt</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">backup</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">break_space</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> , and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">big_force</span></code> . However, a sequence of consecutive ‘  ’, <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">break_space</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> , and/or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">big_force</span></code> tokens is first replaced by a single token (the maximum of the given ones).</p> <p>The tokens <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math_rel</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math_bin</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math_op</span></code> will be translated into \mathrel{, \mathbin{, and \mathop{, respectively. Other control sequences in the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  output will be ‘\\{<span class="canvas canvas-inline" style="width: 0.93999785rem; height: 0.9999985rem; padding-left: -0.08668213rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0.16668092rem; font-size: 1rem; font-family: tdux1">…</span></span> }’ surrounding identifiers, ‘\&amp;{<span class="canvas canvas-inline" style="width: 0.93999785rem; height: 0.9999985rem; padding-left: -0.08668213rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0.16668092rem; font-size: 1rem; font-family: tdux1">…</span></span> }’ surrounding reserved words, ‘\.{<span class="canvas canvas-inline" style="width: 0.93999785rem; height: 0.9999985rem; padding-left: -0.08668213rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0.16668092rem; font-size: 1rem; font-family: tdux1">…</span></span> }’ surrounding strings, ‘\C{<span class="canvas canvas-inline" style="width: 0.93999785rem; height: 0.9999985rem; padding-left: -0.08668213rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0.16668092rem; font-size: 1rem; font-family: tdux1">…</span></span> }<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> ’ surrounding comments, and ‘\X<span class="canvas canvas-inline" style="width: 0.5799988rem; height: 0.9999985rem; padding-left: 0.023999024rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑛</span></span>:<span class="canvas canvas-inline" style="width: 0.93999785rem; height: 0.9999985rem; padding-left: -0.08668213rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0.16668092rem; font-size: 1rem; font-family: tdux1">…</span></span> \X’ surrounding module names, where <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">n</span></code> is the module number.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  math_bin  =  0x83</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  math_rel  =  0x84</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  math_op  =  0x85</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  big_cancel  =
     0x86  //  like  cancel  ,  also  overrides  spaces</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  cancel  =
     0x87  //  overrides  backup  ,  break_space  ,  force  ,  big_force </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  indent  =
      //  one  more  tab  (\.{\\1})</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  outdent  =
      //  one  less  tab  (\.{\\2})</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  opt  =
      //  optional  break  in  mid-statement  (\.{\\3})</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  backup  =
      //  stick  out  one  unit  to  the  left  (\.{\\4})</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  break_space  =
      //  optional  break  between  statements  (\.{\\5})</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  force  =
      //  forced  break  between  statements  (\.{\\6})</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  big_force  =
      //  forced  break  with  additional  space  (\.{\\7})</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  end_translation  =
      //  special  sentinel  token  at  end  of  list</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>142. The raw input is converted into scraps according to the following table, which gives category codes followed by the translations. Sometimes a single item of input produces more than one scrap. (The symbol ‘**’ stands for ‘\&amp;{identifier}’, i.e., the identifier itself treated as a reserved word. In a few cases the category is given as ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">comment</span></code> ’; this is not an actual category code, it means that the translation will be treated as a comment, as explained below.)</p> &lt;&gt; <code></code> \I &lt;= <code></code> \L &gt;= <code></code> \G := <code></code> \K == <code></code> \S (* <code></code> \B *) <code></code> \T (. <code></code> [ .) <code></code> ] "<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> string<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> " <code></code> \.{"<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> modified string<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> "} <span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> string<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> <code></code> \.{\ <span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> modified string<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> \ } @=<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> string<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> @&gt; <code></code> \={<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> modified string<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> } # <code></code> \# $ <code></code> \$ _ <code></code> \_ % <code></code> \% ^ <code></code> \^ ( <code></code> ( ) <code></code> ) [ <code></code> [ ] <code></code> ] * <code></code> \ast , <code></code> ,<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">opt</span></code> 9 .. <code></code> \to . <code></code> . : <code></code> : ; <code></code> ; identifier <code></code> \\{<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> identifier<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> } E in constant <code></code> \E{ digit <span class="canvas canvas-inline" style="width: 0.51699984rem; height: 0.9999985rem; padding-left: 0.016999817rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑑</span></span> <code></code> <span class="canvas canvas-inline" style="width: 0.51699984rem; height: 0.9999985rem; padding-left: 0.016999817rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑑</span></span> other character <span class="canvas canvas-inline" style="width: 0.4319992rem; height: 0.9999985rem; padding-left: 0.025rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑐</span></span> <code></code> <span class="canvas canvas-inline" style="width: 0.4319992rem; height: 0.9999985rem; padding-left: 0.025rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑐</span></span> and <code></code> \W array <code></code> ** begin <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 5.8513675rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.25323606rem; left: 2.282683rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 2.8076828rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.28999883rem; left: 3.4993637rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 3.9163651rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 4.3603654rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 4.916365rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 5.3333664rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 5.735367rem; font-size: 1rem; font-family: tdux1">𝑙</span></span> <code></code> case <code></code> <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 3.1706834rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.25323606rem; left: 2.282683rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 2.8076828rem; font-size: 1rem; font-family: tdux2">*</span></span> const <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 6.1943665rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 2.282683rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 2.7456834rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 3.1896837rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 3.606685rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.28999883rem; left: 4.0836854rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: 0.28999883rem; left: 4.639685rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.25323606rem; left: 5.306366rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 5.831366rem; font-size: 1rem; font-family: tdux2">*</span></span> div <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 5.805362rem; height: 1.3319978rem; padding-left: 0.023999024rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.28999883rem; left: 0.7779999rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 1.2220001rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.28999883rem; left: 1.5600007rem; font-size: 1rem; font-family: tdux1">ℎ</span><span class="ci" style="top: 0.2950455rem; left: 2.0600007rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: 0.28999883rem; left: 2.5600007rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 3.0230012rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: 0.28999883rem; left: 3.3170013rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.25323606rem; left: 4.039682rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 4.564682rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 5.256363rem; font-size: 1rem; font-family: tdux2">}</span></span> do <code></code> ** downto <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 5.5843616rem; height: 1.3319978rem; padding-left: 0.023999024rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.28999883rem; left: 0.7779999rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 1.2220001rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.28999883rem; left: 1.5600007rem; font-size: 1rem; font-family: tdux1">ℎ</span><span class="ci" style="top: 0.2950455rem; left: 2.0600007rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: 0.28999883rem; left: 2.5600007rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 2.9720001rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 3.3740005rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.25323606rem; left: 3.8186815rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 4.3436813rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 5.0353622rem; font-size: 1rem; font-family: tdux2">}</span></span> else <code></code> <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 6.1943665rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 2.282683rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 2.7456834rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 3.1896837rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 3.606685rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.28999883rem; left: 4.0836854rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: 0.28999883rem; left: 4.639685rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.25323606rem; left: 5.306366rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 5.831366rem; font-size: 1rem; font-family: tdux2">*</span></span> end <code></code> <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 3.1706834rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.25323606rem; left: 2.282683rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 2.8076828rem; font-size: 1rem; font-family: tdux2">*</span></span> file <code></code> ** for <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 3.1706834rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.25323606rem; left: 2.282683rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 2.8076828rem; font-size: 1rem; font-family: tdux2">*</span></span> function <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 8.875051rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 2.282683rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 2.7456834rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 3.1896837rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 3.606685rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.28999883rem; left: 4.0836854rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: 0.28999883rem; left: 4.639685rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.25323606rem; left: 5.306366rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 5.831366rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.28999883rem; left: 6.523047rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 6.940048rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 7.3840485rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 7.940048rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 8.35705rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 8.75905rem; font-size: 1rem; font-family: tdux1">𝑙</span></span> <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 3.3826814rem; height: 1.3319978rem; padding-left: 0.033999633rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: 0.28999883rem; left: 0.29400024rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 0.85rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: 0.28999883rem; left: 1.3610001rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 1.7630005rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 2.3190002rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.25323606rem; left: 2.8236816rem; font-size: 1rem; font-family: tdux2">\</span></span> goto <code></code> ** if <code></code> <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 3.1706834rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.25323606rem; left: 2.282683rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 2.8076828rem; font-size: 1rem; font-family: tdux2">*</span></span> in <code></code> \in label <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 6.1943665rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 2.282683rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 2.7456834rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 3.1896837rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 3.606685rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.28999883rem; left: 4.0836854rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: 0.28999883rem; left: 4.639685rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.25323606rem; left: 5.306366rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 5.831366rem; font-size: 1rem; font-family: tdux2">*</span></span> mod <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 5.805362rem; height: 1.3319978rem; padding-left: 0.023999024rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.28999883rem; left: 0.7779999rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 1.2220001rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.28999883rem; left: 1.5600007rem; font-size: 1rem; font-family: tdux1">ℎ</span><span class="ci" style="top: 0.2950455rem; left: 2.0600007rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: 0.28999883rem; left: 2.5600007rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 3.0230012rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: 0.28999883rem; left: 3.3170013rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.25323606rem; left: 4.039682rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 4.564682rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 5.256363rem; font-size: 1rem; font-family: tdux2">}</span></span> nil <code></code> ** not <code></code> \R of <code></code> ** or <code></code> \V packed <code></code> ** procedure <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 8.875051rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 2.282683rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 2.7456834rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 3.1896837rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 3.606685rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.28999883rem; left: 4.0836854rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: 0.28999883rem; left: 4.639685rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.25323606rem; left: 5.306366rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 5.831366rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.28999883rem; left: 6.523047rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 6.940048rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 7.3840485rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 7.940048rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 8.35705rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 8.75905rem; font-size: 1rem; font-family: tdux1">𝑙</span></span> <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 3.3826814rem; height: 1.3319978rem; padding-left: 0.033999633rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: 0.28999883rem; left: 0.29400024rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 0.85rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: 0.28999883rem; left: 1.3610001rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 1.7630005rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 2.3190002rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.25323606rem; left: 2.8236816rem; font-size: 1rem; font-family: tdux2">\</span></span> program <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 8.875051rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 2.282683rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 2.7456834rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 3.1896837rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 3.606685rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.28999883rem; left: 4.0836854rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: 0.28999883rem; left: 4.639685rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.25323606rem; left: 5.306366rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 5.831366rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.28999883rem; left: 6.523047rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 6.940048rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 7.3840485rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 7.940048rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 8.35705rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 8.75905rem; font-size: 1rem; font-family: tdux1">𝑙</span></span> <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 3.3826814rem; height: 1.3319978rem; padding-left: 0.033999633rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: 0.28999883rem; left: 0.29400024rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 0.85rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: 0.28999883rem; left: 1.3610001rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 1.7630005rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 2.3190002rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.25323606rem; left: 2.8236816rem; font-size: 1rem; font-family: tdux2">\</span></span> record <code></code> ** <code></code> repeat <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 8.675049rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 2.282683rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: 0.28999883rem; left: 2.576683rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 3.1326828rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: 0.28999883rem; left: 3.643683rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 4.0456834rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 4.601683rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.25323606rem; left: 5.1063647rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 5.6313643rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.28999883rem; left: 6.3230453rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 6.740047rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 7.184047rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 7.740047rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 8.157048rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 8.559049rem; font-size: 1rem; font-family: tdux1">𝑙</span></span> <code></code> set <code></code> ** then <code></code> ** to <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 5.5843616rem; height: 1.3319978rem; padding-left: 0.023999024rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.28999883rem; left: 0.7779999rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 1.2220001rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.28999883rem; left: 1.5600007rem; font-size: 1rem; font-family: tdux1">ℎ</span><span class="ci" style="top: 0.2950455rem; left: 2.0600007rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: 0.28999883rem; left: 2.5600007rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 2.9720001rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 3.3740005rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.25323606rem; left: 3.8186815rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 4.3436813rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 5.0353622rem; font-size: 1rem; font-family: tdux2">}</span></span> type <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 6.1943665rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 2.282683rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 2.7456834rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 3.1896837rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 3.606685rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.28999883rem; left: 4.0836854rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: 0.28999883rem; left: 4.639685rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.25323606rem; left: 5.306366rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 5.831366rem; font-size: 1rem; font-family: tdux2">*</span></span> until <code></code> <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 6.1943665rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 2.282683rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 2.7456834rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 3.1896837rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 3.606685rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.28999883rem; left: 4.0836854rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: 0.28999883rem; left: 4.639685rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.25323606rem; left: 5.306366rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 5.831366rem; font-size: 1rem; font-family: tdux2">*</span></span> <code></code> var <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 8.875051rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 2.282683rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 2.7456834rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 3.1896837rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 3.606685rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.28999883rem; left: 4.0836854rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: 0.28999883rem; left: 4.639685rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.25323606rem; left: 5.306366rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 5.831366rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.28999883rem; left: 6.523047rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 6.940048rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 7.3840485rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 7.940048rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 8.35705rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 8.75905rem; font-size: 1rem; font-family: tdux1">𝑙</span></span> <code></code> while <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 3.1706834rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.25323606rem; left: 2.282683rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 2.8076828rem; font-size: 1rem; font-family: tdux2">*</span></span> with <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 3.1706834rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.25323606rem; left: 2.282683rem; font-size: 1rem; font-family: tdux2">*</span><span class="ci" style="top: 0.25323606rem; left: 2.8076828rem; font-size: 1rem; font-family: tdux2">*</span></span> xclause <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 2.925682rem; height: 1.3319978rem; padding-left: -0.16199951rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 0.44100037rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.88500065rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 1.2970002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 1.7140015rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.25323606rem; left: 2.282683rem; font-size: 1rem; font-family: tdux2">\</span></span> <code></code> ** @ <span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> const <code></code> \O{const} @"<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> const <code></code> \H{const} @$ <code></code> \) @\ <code></code> \] @, <code></code> \, @t<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> stuff<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> @&gt; <code></code> \hbox{<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> stuff<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> } @&lt;<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> module<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> @&gt; <code></code> \X<span class="canvas canvas-inline" style="width: 0.5799988rem; height: 0.9999985rem; padding-left: 0.023999024rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑛</span></span>:<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> module<span class="canvas canvas-inline" style="width: 0rem; height: 0rem; padding-left: 0rem; vertical-align: 0rem"></span> \X @# <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">big_force</span></code> @/ <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> @| <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 1.9906815rem; height: 1.3319978rem; padding-left: 0.016999817rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 0.44400024rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.28999883rem; left: 0.94400024rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.25323606rem; left: 1.4486817rem; font-size: 1rem; font-family: tdux2">0</span></span> @+ <code></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code>  <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 10.014368rem; height: 1.3319978rem; padding-left: 0.036999512rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 0.4630005rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: 0.28999883rem; left: 0.75700074rem; font-size: 1rem; font-family: tdux1">𝑔</span><span class="ci" style="top: 0.2950455rem; left: 1.2830002rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: 0.28999883rem; left: 1.7830002rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 2.2000015rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 2.6440017rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 3.2000015rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 3.617003rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 4.0190034rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.25323606rem; left: 4.463684rem; font-size: 1rem; font-family: tdux2">\</span><span class="ci" style="top: 0.28999883rem; left: 5.680365rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 6.1433654rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: 0.28999883rem; left: 6.437366rem; font-size: 1rem; font-family: tdux1">𝑔</span><span class="ci" style="top: 0.2950455rem; left: 6.963365rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: 0.28999883rem; left: 7.463365rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 7.880367rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 8.324367rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 8.880366rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 9.297368rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 9.6993685rem; font-size: 1rem; font-family: tdux1">𝑙</span></span> @; <code></code> @&amp; <code></code> \J @{ <code></code> \B @} <code></code> \T <p>When a string is output, certain characters are preceded by ‘\’ signs so that they will print properly.</p> <p>A comment in the input will be combined with the preceding <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">omega</span></code> or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">semi</span></code> scrap, or with the following <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">terminator</span></code> scrap, if possible; otherwise it will be inserted as a separate <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">terminator</span></code> scrap. An additional “comment” is effectively appended at the end of the Pascal  text, just before translation begins; this consists of a <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cancel</span></code> token in the case of Pascal  text in <span class="canvas canvas-inline" style="width: 2.4703615rem; height: 1.3319978rem; padding-left: 0.22699891rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.25323606rem; left: 0rem; font-size: 1rem; font-family: tdux2">|</span><span class="ci" style="top: 0.28999883rem; left: 0.6916809rem; font-size: 1rem; font-family: tdux1">…</span><span class="ci" style="top: 0.25323606rem; left: 1.7183625rem; font-size: 1rem; font-family: tdux2">|</span></span>, otherwise it consists of a <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> token.</p> <p>From this table it is evident that WEAVE will parse a lot of non-Pascal  programs. For example, the reserved words ‘for’ and ‘array’ are treated in an identical way by WEAVE from a syntactic standpoint, and semantically they are equivalent except that a forced line break occurs just before ‘&amp;for’; Pascal  programmers may well be surprised at this similarity. The idea is to keep WEAVE’s rules as simple as possible, consistent with doing a reasonable job on syntactically correct Pascal  programs. The production rules below have been formulated in the same spirit of “almost anything goes.”</p></section> <section class="ttweave-nonfirst"> <p>143. Here is a table of all the productions. The reader can best get a feel for how they work by trying them out by hand on small examples; no amount of explanation will be as effective as watching the rules in action. Parsing can also be watched by debugging with ‘@2’.</p> Production categories <span class="canvas canvas-inline" style="width: 6.59464rem; height: 1.0069993rem; padding-left: 0.1199997rem; vertical-align: -0.28099975rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.005046129rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux4">t</span><span class="ci" style="top: 0.005046129rem; left: 0.97931975rem; font-size: 1rem; font-family: tdux4">r</span><span class="ci" style="top: 0.005046129rem; left: 1.35932rem; font-size: 1rem; font-family: tdux4">a</span><span class="ci" style="top: 0.005046129rem; left: 1.85932rem; font-size: 1rem; font-family: tdux4">n</span><span class="ci" style="top: 0.005046129rem; left: 2.441321rem; font-size: 1rem; font-family: tdux4">s</span><span class="ci" style="top: 0.005046129rem; left: 2.86532rem; font-size: 1rem; font-family: tdux4">l</span><span class="ci" style="top: 0.005046129rem; left: 3.1563203rem; font-size: 1rem; font-family: tdux4">a</span><span class="ci" style="top: 0.005046129rem; left: 3.6563203rem; font-size: 1rem; font-family: tdux4">t</span><span class="ci" style="top: 0.005046129rem; left: 3.9823213rem; font-size: 1rem; font-family: tdux4">i</span><span class="ci" style="top: 0.005046129rem; left: 4.269321rem; font-size: 1rem; font-family: tdux4">o</span><span class="ci" style="top: 0.005046129rem; left: 4.81532rem; font-size: 1rem; font-family: tdux4">n</span><span class="ci" style="top: 0.005046129rem; left: 5.3973207rem; font-size: 1rem; font-family: tdux4">s</span><span class="ci" style="top: -0.0000005364418rem; left: 5.821321rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 6.064641rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> Remarks 1 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">alpha

math

colon</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">alpha

math</span></code> e.g., <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">case



boolean

of</span></code> 2 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">alpha

math

omega</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">clause</span></code>   <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 11.81301rem; height: 1.3319978rem; padding-left: 0.1199997rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.28999883rem; left: 1.6101211rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.28999883rem; left: 2.6479232rem; font-size: 1rem; font-family: tdux1">𝐴</span><span class="ci" style="top: 0.25323606rem; left: 4.2282853rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 4.919966rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.25323606rem; left: 6.054648rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 7.4380097rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: 0.28999883rem; left: 7.73201rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 8.28801rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: 0.28999883rem; left: 8.79901rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 9.201011rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 9.75701rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.28999883rem; left: 10.261691rem; font-size: 1rem; font-family: tdux1">𝑂</span><span class="ci" style="top: 0.28999883rem; left: 11.039691rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 11.283011rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> e.g., <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">while



do</span></code> 3 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">alpha

omega</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">clause</span></code>  <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 8.603286rem; height: 0.9999985rem; padding-left: 0.1199997rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: -0.0000005364418rem; left: 1.6101211rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 2.6479232rem; font-size: 1rem; font-family: tdux1">𝐴</span><span class="ci" style="top: -0.0000005364418rem; left: 4.2282853rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: -0.0000005364418rem; left: 4.5222855rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 5.078285rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 5.5892854rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 5.991286rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 6.5472856rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 7.051967rem; font-size: 1rem; font-family: tdux1">𝑂</span><span class="ci" style="top: -0.0000005364418rem; left: 7.829967rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 8.073287rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> e.g., <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">file

of</span></code> 4 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">alpha

simp</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">alpha

math</span></code> convert to math mode 5 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">beginning

close

</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt</span></code> compound statement ends 6 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">beginning

stmt</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">beginning</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 10.639808rem; height: 1.1607834rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝐵</span><span class="ci" style="top: 0.420785rem; left: 1.2643204rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 2.010222rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 3.048024rem; font-size: 1rem; font-family: tdux1">𝐵</span><span class="ci" style="top: 0.420785rem; left: 3.659024rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 4.293805rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: -0.0000005364418rem; left: 4.7568054rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 5.168805rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 5.5708055rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 6.014806rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.005046129rem; left: 6.491806rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: -0.0000005364418rem; left: 6.991806rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: -0.0000005364418rem; left: 7.380806rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: -0.0000005364418rem; left: 7.880806rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 8.324806rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 8.741808rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 9.310489rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: -0.0000005364418rem; left: 9.866488rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 10.109809rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> compound statement grows 7 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">case_head

casey

clause</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">case_head</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 10.927686rem; height: 1.1607834rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 1.3203201rem; font-size: 0.7399994rem; font-family: tdux1vg0">4</span><span class="ci" style="top: -0.0000005364418rem; left: 2.0662217rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 3.1040237rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 3.7710235rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 4.4058046rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 4.849805rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: -0.0000005364418rem; left: 5.4058046rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 5.743805rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 6.254805rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 6.6568055rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 7.2128053rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 7.717487rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 8.384486rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 9.019267rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 9.686267rem; font-size: 0.7399994rem; font-family: tdux1vg0">3</span><span class="ci" style="top: -0.0000005364418rem; left: 10.154367rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 10.397687rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> variant records 8 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">case_head

close

terminator</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 12.55717rem; height: 1.1607834rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: -0.0000005364418rem; left: 1.4871216rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 2.5249238rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 3.1919236rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 3.8267045rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 4.2437057rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 4.687706rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 5.2437057rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 5.660707rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 6.0627074rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: -0.0000005364418rem; left: 6.5073886rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 6.951389rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: -0.0000005364418rem; left: 7.5073886rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 7.845389rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 8.356389rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 8.758389rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 9.314389rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 9.819071rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 10.486071rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 11.1208515rem; font-size: 1rem; font-family: tdux1">𝑇</span><span class="ci" style="top: -0.0000005364418rem; left: 11.783852rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 12.027171rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> end of case statement 9 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">case_head

stmt</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">case_head</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 8.017806rem; height: 1.1607834rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 1.3203201rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 2.0662217rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 3.1040237rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 3.7710235rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 4.4058046rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: -0.0000005364418rem; left: 4.846805rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 5.2908053rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 5.7028046rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 6.119806rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 6.6884875rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: -0.0000005364418rem; left: 7.2444873rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 7.487807rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> case statement grows 10 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">casey

clause</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">case_head</span></code> beginning of case statement 11 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">clause

stmt</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 18.927855rem; height: 1.1607834rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.420785rem; left: 1.2093201rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 1.9552215rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 2.9930236rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: -0.0000005364418rem; left: 3.8387039rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: -0.0000005364418rem; left: 4.3017044rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 4.713704rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 5.1157045rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 5.559705rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.005046129rem; left: 6.036705rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: -0.0000005364418rem; left: 6.536705rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: -0.0000005364418rem; left: 6.925705rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: -0.0000005364418rem; left: 7.425705rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 7.869705rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 8.286707rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 8.855388rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.420785rem; left: 9.411387rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 10.046168rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 10.46317rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 10.90717rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 11.46317rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 11.880172rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 12.282172rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: -0.0000005364418rem; left: 12.726852rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 13.170853rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: -0.0000005364418rem; left: 13.726852rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 14.064853rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 14.575853rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 14.977854rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 15.533854rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 16.038534rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: -0.0000005364418rem; left: 16.479536rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 16.923536rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 17.335535rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 17.752537rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 18.154537rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 18.397856rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> end of controlled statement 12 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cond

clause

stmt

elsie</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">clause</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code>  <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 16.203634rem; height: 1.1607834rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 1.3203201rem; font-size: 0.7399994rem; font-family: tdux1vg0">3</span><span class="ci" style="top: -0.0000005364418rem; left: 2.0662217rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 3.1040237rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 3.7710235rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 4.4058046rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 5.0728045rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 5.7075853rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: -0.0000005364418rem; left: 6.1705856rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 6.5825853rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 6.984586rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 7.428586rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.005046129rem; left: 7.9055862rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: -0.0000005364418rem; left: 8.405586rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: -0.0000005364418rem; left: 8.794586rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: -0.0000005364418rem; left: 9.294586rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 9.738586rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 10.155588rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 10.724269rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: -0.0000005364418rem; left: 11.44695rem; font-size: 1rem; font-family: tdux1">𝐸</span><span class="ci" style="top: -0.0000005364418rem; left: 12.916312rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 13.333313rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 13.777313rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 14.333313rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 14.750315rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 15.152315rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: -0.0000005364418rem; left: 15.430315rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 15.673635rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> complete conditional 13 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cond

clause

stmt</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 20.685736rem; height: 1.1607834rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.420785rem; left: 1.2093201rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 1.9552215rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 2.9930236rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 3.6600235rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 4.2948046rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 4.9618044rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 5.5965853rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: -0.0000005364418rem; left: 6.0595856rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 6.4715853rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 6.8735857rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 7.317586rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.005046129rem; left: 7.794586rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: -0.0000005364418rem; left: 8.294586rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: -0.0000005364418rem; left: 8.683586rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: -0.0000005364418rem; left: 9.183586rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 9.627586rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 10.044588rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 10.613269rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.420785rem; left: 11.169269rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 11.8040495rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 12.221051rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 12.665051rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 13.221051rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 13.638053rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 14.040053rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: -0.0000005364418rem; left: 14.484734rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 14.928734rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: -0.0000005364418rem; left: 15.484734rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 15.822734rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 16.333735rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 16.735735rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 17.291735rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 17.796415rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: -0.0000005364418rem; left: 18.237417rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 18.681417rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 19.093416rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 19.510418rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 19.912418rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 20.155737rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> incomplete conditional 14 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">elsie</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">intro</span></code> unmatched else 15 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">exp

math

simp</span></code> * <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> <span class="canvas canvas-inline" style="width: 7.7584853rem; height: 1.4507828rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.7107844rem; left: 1.5973206rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: 0.28999883rem; left: 2.3432221rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.28999883rem; left: 3.3810241rem; font-size: 1rem; font-family: tdux1">𝐸</span><span class="ci" style="top: 0.28999883rem; left: 4.158705rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.7107844rem; left: 5.1027055rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: 0.28999883rem; left: 5.7374864rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.25323606rem; left: 6.460167rem; font-size: 1rem; font-family: tdux2">}</span><span class="ci" style="top: 0.28999883rem; left: 6.985167rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 7.2284865rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> signed exponent 16 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">exp

simp</span></code> * <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> <span class="canvas canvas-inline" style="width: 5.735605rem; height: 1.3319978rem; padding-left: 0.1199997rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.28999883rem; left: 1.8991226rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.28999883rem; left: 2.9369247rem; font-size: 1rem; font-family: tdux1">𝐸</span><span class="ci" style="top: 0.28999883rem; left: 3.7146058rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.25323606rem; left: 4.4372864rem; font-size: 1rem; font-family: tdux2">}</span><span class="ci" style="top: 0.28999883rem; left: 4.9622865rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 5.205606rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> unsigned exponent 17 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">intro

stmt</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt</span></code>  <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 10.851851rem; height: 1.4507828rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.7107844rem; left: 1.2093201rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: 0.28999883rem; left: 1.9552215rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.28999883rem; left: 2.9930236rem; font-size: 1rem; font-family: tdux1">𝐼</span><span class="ci" style="top: 0.28999883rem; left: 4.2333865rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 4.6773868rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.28999883rem; left: 5.1773868rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.25323606rem; left: 5.682068rem; font-size: 1rem; font-family: tdux2">7</span><span class="ci" style="top: 0.28999883rem; left: 6.373749rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 6.79075rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 7.2347503rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 7.79075rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 8.207751rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 8.609752rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.28999883rem; left: 9.054433rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.7107844rem; left: 9.610433rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: 0.28999883rem; left: 10.078532rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 10.321853rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> labeled statement, etc. 18 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math

close</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt

close</span></code> <span class="canvas canvas-inline" style="width: 5.649605rem; height: 1.3319978rem; padding-left: 0.1199997rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.28999883rem; left: 1.4871216rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.25323606rem; left: 2.5249238rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 3.2166047rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.25323606rem; left: 4.3512864rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 4.8762865rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 5.119606rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> end of field list 19 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math

colon</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">intro</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 11.627652rem; height: 1.3319978rem; padding-left: 0.1199997rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝐼</span><span class="ci" style="top: 0.28999883rem; left: 1.3131226rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.28999883rem; left: 2.3509247rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 2.7919252rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 3.2359254rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 3.647925rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 4.064926rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 4.6336074rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 5.096608rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 5.5406084rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 5.9576097rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.28999883rem; left: 6.43461rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: 0.28999883rem; left: 6.9906096rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.25323606rem; left: 7.657291rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 8.348971rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.25323606rem; left: 9.483653rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 10.175334rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.28999883rem; left: 10.854334rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 11.097653rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> compound label 20 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math

math</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> simple concatenation 21 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math

simp</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> simple concatenation 22 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math

stmt</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 23.4239rem; height: 1.4507828rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.7107844rem; left: 1.2093201rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: 0.28999883rem; left: 1.9552215rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.25323606rem; left: 2.9930236rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 3.6847045rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.25323606rem; left: 4.8193865rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 5.5110674rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: 0.28999883rem; left: 5.8050675rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 6.3610673rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: 0.28999883rem; left: 6.8720675rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 7.274068rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 7.8300676rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.28999883rem; left: 8.334749rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: 0.28999883rem; left: 8.7977495rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 9.209749rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 9.61175rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 10.05575rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.2950455rem; left: 10.53275rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: 0.28999883rem; left: 11.03275rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.28999883rem; left: 11.42175rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.28999883rem; left: 11.92175rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 12.36575rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 12.782752rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 13.351433rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.7107844rem; left: 13.907433rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: 0.28999883rem; left: 14.542213rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 14.959215rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 15.403215rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 15.959215rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 16.376217rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 16.778217rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.28999883rem; left: 17.222898rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 17.666899rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: 0.28999883rem; left: 18.222898rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.28999883rem; left: 18.560898rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: 0.28999883rem; left: 19.071898rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 19.473898rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 20.029898rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.28999883rem; left: 20.53458rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: 0.28999883rem; left: 20.97558rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 21.41958rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: 0.28999883rem; left: 21.83158rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 22.24858rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 22.650581rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 22.893902rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> macro or type definition 23 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math

terminator</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt</span></code> <span class="canvas canvas-inline" style="width: 6.479286rem; height: 1.3319978rem; padding-left: 0.1199997rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.28999883rem; left: 1.4871216rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.25323606rem; left: 2.5249238rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 3.2166047rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.25323606rem; left: 4.3512864rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 5.0429673rem; font-size: 1rem; font-family: tdux1">𝑇</span><span class="ci" style="top: 0.28999883rem; left: 5.705968rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 5.9492874rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> statement involving math 24 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">mod_scrap

</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 7.3786073rem; height: 0.9999985rem; padding-left: 0.1199997rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: -0.0000005364418rem; left: 1.4871216rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 2.5249238rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: -0.0000005364418rem; left: 3.6596055rem; font-size: 1rem; font-family: tdux1">𝑇</span><span class="ci" style="top: -0.0000005364418rem; left: 4.489287rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: -0.0000005364418rem; left: 4.9302874rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 5.3742876rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 5.786287rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 6.2032886rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 6.605289rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 6.8486085rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> module like a statement 25 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">mod_scrap</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">simp</span></code> module unlike a statement 26 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

case_head

close</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 17.148216rem; height: 1.4507828rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.28999883rem; left: 1.8991226rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.28999883rem; left: 2.9369247rem; font-size: 1rem; font-family: tdux1">𝑂</span><span class="ci" style="top: 0.25323606rem; left: 3.8816056rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 4.5732865rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 4.990288rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 5.434288rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 5.990288rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 6.407289rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 6.8092895rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.28999883rem; left: 7.2539706rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.7107844rem; left: 7.9209704rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: 0.28999883rem; left: 8.555751rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 8.972753rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 9.416753rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 9.972753rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 10.389754rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 10.791755rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.28999883rem; left: 11.236435rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 11.680435rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: 0.28999883rem; left: 12.236435rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.28999883rem; left: 12.574435rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: 0.28999883rem; left: 13.085436rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 13.487436rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 14.043436rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.25323606rem; left: 14.548118rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 15.239799rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.7107844rem; left: 15.906798rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: 0.28999883rem; left: 16.374899rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 16.618217rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> case in field list 27 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

close</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> <span class="canvas canvas-inline" style="width: 6.717285rem; height: 1.3319978rem; padding-left: 0.1199997rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.28999883rem; left: 1.8991226rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.28999883rem; left: 2.9369247rem; font-size: 1rem; font-family: tdux1">𝑂</span><span class="ci" style="top: 0.25323606rem; left: 3.8816056rem; font-size: 1rem; font-family: tdux2">\</span><span class="ci" style="top: 0.25323606rem; left: 4.5732865rem; font-size: 1rem; font-family: tdux2">,</span><span class="ci" style="top: 0.28999883rem; left: 5.2649674rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.28999883rem; left: 5.943967rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 6.1872864rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> empty set <code></code> 28 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math

case_head

close</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 19.171097rem; height: 1.4507828rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.7107844rem; left: 1.5973206rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: 0.28999883rem; left: 2.3432221rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.28999883rem; left: 3.3810241rem; font-size: 1rem; font-family: tdux1">𝑂</span><span class="ci" style="top: 0.28999883rem; left: 4.325705rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.7107844rem; left: 5.2697053rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: 0.25323606rem; left: 5.904486rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 6.596167rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 7.0131683rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 7.4571686rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 8.013168rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 8.43017rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 8.8321705rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.28999883rem; left: 9.276851rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.7107844rem; left: 9.9438505rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: 0.28999883rem; left: 10.578631rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 10.995633rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 11.439633rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 11.995633rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 12.412635rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 12.814635rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.28999883rem; left: 13.2593155rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 13.703316rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: 0.28999883rem; left: 14.2593155rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.28999883rem; left: 14.597316rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: 0.28999883rem; left: 15.108316rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 15.510317rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 16.066317rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.25323606rem; left: 16.570997rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 17.262678rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.7107844rem; left: 17.929678rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: 0.28999883rem; left: 18.39778rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 18.641098rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> case in field list 29 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math

close</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> parenthesized group 30 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math

colon</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math</span></code> colon in parentheses 31 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math

proc

intro</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 13.39817rem; height: 1.4507828rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.7107844rem; left: 1.5973206rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: 0.28999883rem; left: 2.3432221rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.28999883rem; left: 3.3810241rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.7107844rem; left: 4.3250246rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: 0.28999883rem; left: 4.9598055rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.28999883rem; left: 5.7378054rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 6.1818056rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.28999883rem; left: 6.519806rem; font-size: 1rem; font-family: tdux1">ℎ</span><span class="ci" style="top: 0.2950455rem; left: 7.019806rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: 0.28999883rem; left: 7.519806rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 7.963806rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.28999883rem; left: 8.630487rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 9.047488rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 9.491488rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 10.047488rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 10.46449rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 10.86649rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.28999883rem; left: 11.311172rem; font-size: 1rem; font-family: tdux1">𝑃</span><span class="ci" style="top: 0.25323606rem; left: 12.099853rem; font-size: 1rem; font-family: tdux2">}</span><span class="ci" style="top: 0.28999883rem; left: 12.624852rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 12.868172rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">procedure</span></code> in parentheses 32 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math

semi</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 9.812848rem; height: 1.4507828rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.7107844rem; left: 1.5973206rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: 0.28999883rem; left: 2.3432221rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.28999883rem; left: 3.3810241rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.7107844rem; left: 4.3250246rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: 0.28999883rem; left: 4.9598055rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.25323606rem; left: 5.682486rem; font-size: 1rem; font-family: tdux2">\</span><span class="ci" style="top: 0.25323606rem; left: 6.374167rem; font-size: 1rem; font-family: tdux2">,</span><span class="ci" style="top: 0.28999883rem; left: 7.065848rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 7.509848rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.28999883rem; left: 8.009849rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.25323606rem; left: 8.514529rem; font-size: 1rem; font-family: tdux2">5</span><span class="ci" style="top: 0.28999883rem; left: 9.03953rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 9.282849rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> semicolon in parentheses 33 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math

var_head

intro</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 13.558171rem; height: 1.4507828rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.7107844rem; left: 1.5973206rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: 0.28999883rem; left: 2.3432221rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.28999883rem; left: 3.3810241rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.7107844rem; left: 4.3250246rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: 0.28999883rem; left: 4.9598055rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.28999883rem; left: 5.7378054rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 6.1818056rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.28999883rem; left: 6.519806rem; font-size: 1rem; font-family: tdux1">ℎ</span><span class="ci" style="top: 0.2950455rem; left: 7.019806rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: 0.28999883rem; left: 7.519806rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 7.963806rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.28999883rem; left: 8.630487rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 9.047488rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 9.491488rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 10.047488rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 10.46449rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 10.86649rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.28999883rem; left: 11.311172rem; font-size: 1rem; font-family: tdux1">𝑉</span><span class="ci" style="top: 0.25323606rem; left: 12.259852rem; font-size: 1rem; font-family: tdux2">}</span><span class="ci" style="top: 0.28999883rem; left: 12.784853rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 13.0281725rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">var</span></code> in parentheses 34 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

proc

intro</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 11.37529rem; height: 1.3319978rem; padding-left: 0.1199997rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.28999883rem; left: 1.8991226rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.28999883rem; left: 2.9369247rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.28999883rem; left: 3.7149246rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 4.158925rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.28999883rem; left: 4.4969254rem; font-size: 1rem; font-family: tdux1">ℎ</span><span class="ci" style="top: 0.2950455rem; left: 4.9969254rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: 0.28999883rem; left: 5.4969254rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 5.9409256rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.28999883rem; left: 6.6076064rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 7.024608rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 7.4686084rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 8.024608rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 8.441609rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 8.84361rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.28999883rem; left: 9.288291rem; font-size: 1rem; font-family: tdux1">𝑃</span><span class="ci" style="top: 0.25323606rem; left: 10.076972rem; font-size: 1rem; font-family: tdux2">}</span><span class="ci" style="top: 0.28999883rem; left: 10.601972rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 10.845291rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">procedure</span></code> in parentheses 35 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

simp</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math</span></code> convert to math mode 36 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

stmt

close</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 12.801333rem; height: 1.3319978rem; padding-left: 0.1199997rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.28999883rem; left: 1.8991226rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.28999883rem; left: 2.9369247rem; font-size: 1rem; font-family: tdux1">𝑂</span><span class="ci" style="top: 0.25323606rem; left: 3.8816056rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 4.5732865rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 4.990288rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 5.434288rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 5.990288rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 6.407289rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 6.8092895rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.28999883rem; left: 7.2539706rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.28999883rem; left: 7.976651rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 8.393653rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 8.837653rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 9.393653rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 9.810654rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 10.212654rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.25323606rem; left: 10.657335rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 11.349016rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.28999883rem; left: 12.028015rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 12.271335rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> field list 37 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

var_head

intro</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 11.535291rem; height: 1.3319978rem; padding-left: 0.1199997rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.28999883rem; left: 1.8991226rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.28999883rem; left: 2.9369247rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: 0.28999883rem; left: 3.7149246rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 4.158925rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.28999883rem; left: 4.4969254rem; font-size: 1rem; font-family: tdux1">ℎ</span><span class="ci" style="top: 0.2950455rem; left: 4.9969254rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: 0.28999883rem; left: 5.4969254rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: 0.28999883rem; left: 5.9409256rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: 0.28999883rem; left: 6.6076064rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 7.024608rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: 0.28999883rem; left: 7.4686084rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: 0.28999883rem; left: 8.024608rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: 0.28999883rem; left: 8.441609rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: 0.28999883rem; left: 8.84361rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: 0.28999883rem; left: 9.288291rem; font-size: 1rem; font-family: tdux1">𝑉</span><span class="ci" style="top: 0.25323606rem; left: 10.236972rem; font-size: 1rem; font-family: tdux2">}</span><span class="ci" style="top: 0.28999883rem; left: 10.761972rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 11.005292rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">var</span></code> in parentheses 38 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">proc

beginning

close

terminator</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 12.365651rem; height: 0.9999985rem; padding-left: 0.1199997rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: -0.0000005364418rem; left: 1.4871216rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 2.5249238rem; font-size: 1rem; font-family: tdux1">𝑃</span><span class="ci" style="top: -0.0000005364418rem; left: 3.3136048rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 3.730606rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 4.1746063rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 4.730606rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 5.1476073rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 5.5496078rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: -0.0000005364418rem; left: 5.994289rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 6.438289rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: -0.0000005364418rem; left: 6.994289rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 7.332289rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 7.8432894rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 8.24529rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 8.80129rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 9.305971rem; font-size: 1rem; font-family: tdux1">𝐵</span><span class="ci" style="top: -0.0000005364418rem; left: 10.083652rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: -0.0000005364418rem; left: 10.929332rem; font-size: 1rem; font-family: tdux1">𝑇</span><span class="ci" style="top: -0.0000005364418rem; left: 11.592333rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 11.835652rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> end of procedure declaration 39 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">proc

stmt</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">proc</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 10.639808rem; height: 1.1607834rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑃</span><span class="ci" style="top: 0.420785rem; left: 1.2643204rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 2.010222rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 3.048024rem; font-size: 1rem; font-family: tdux1">𝑃</span><span class="ci" style="top: 0.420785rem; left: 3.659024rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 4.293805rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: -0.0000005364418rem; left: 4.7568054rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 5.168805rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 5.5708055rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 6.014806rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.005046129rem; left: 6.491806rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: -0.0000005364418rem; left: 6.991806rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: -0.0000005364418rem; left: 7.380806rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: -0.0000005364418rem; left: 7.880806rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 8.324806rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 8.741808rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 9.310489rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: -0.0000005364418rem; left: 9.866488rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 10.109809rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> procedure declaration grows 40 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">record_head

intro

casey</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">casey</span></code>  <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 9.767169rem; height: 1.1607834rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 1.3203201rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 2.0662217rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 3.1040237rem; font-size: 1rem; font-family: tdux1">𝑅</span><span class="ci" style="top: -0.0000005364418rem; left: 3.9377046rem; font-size: 1rem; font-family: tdux1">𝐼</span><span class="ci" style="top: -0.0000005364418rem; left: 5.178067rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 5.5950685rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 6.0390687rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 6.5950685rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 7.0120697rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 7.41407rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: -0.0000005364418rem; left: 7.858751rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.420785rem; left: 8.525751rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 8.993851rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 9.23717rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> &amp;record case <span class="canvas canvas-inline" style="width: 0.93999785rem; height: 0.9999985rem; padding-left: 0.079998784rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">…</span></span> 41 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">record_head</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">case_head</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 9.5926075rem; height: 0.9999985rem; padding-left: 0.1199997rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: -0.0000005364418rem; left: 1.6101211rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 2.6479232rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: -0.0000005364418rem; left: 2.9419236rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 3.4979234rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 4.0089235rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 4.410924rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 4.9669237rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 5.471605rem; font-size: 1rem; font-family: tdux1">𝑅</span><span class="ci" style="top: -0.0000005364418rem; left: 6.305286rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 6.722287rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 7.1662874rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 7.722287rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 8.139289rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 8.541289rem; font-size: 1rem; font-family: tdux1">𝑙</span><span class="ci" style="top: -0.0000005364418rem; left: 8.819289rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 9.062609rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> other &amp;record structures 42 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">semi</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">terminator</span></code> semicolon after statement 43 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">simp

close</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt

close</span></code> end of field list 44 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">simp

colon</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">intro</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 9.83229rem; height: 0.9999985rem; padding-left: 0.1199997rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝐼</span><span class="ci" style="top: -0.0000005364418rem; left: 1.3131226rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 2.3509247rem; font-size: 1rem; font-family: tdux1">𝑓</span><span class="ci" style="top: -0.0000005364418rem; left: 2.7919252rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 3.2359254rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 3.647925rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 4.064926rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 4.6336074rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: -0.0000005364418rem; left: 5.096608rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 5.5406084rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 5.9576097rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: -0.0000005364418rem; left: 6.43461rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: -0.0000005364418rem; left: 6.9906096rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: -0.0000005364418rem; left: 7.657291rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: -0.0000005364418rem; left: 8.3799715rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: -0.0000005364418rem; left: 9.05897rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 9.302291rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> simple label 45 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">simp

math</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> simple concatenation 46 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">simp

mod_scrap</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">mod_scrap</span></code> in emergencies 47 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">simp

simp</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">simp</span></code> simple concatenation 48 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">simp

terminator</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt</span></code> simple statement 49 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt

stmt</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 10.997907rem; height: 1.1607834rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.420785rem; left: 1.2093201rem; font-size: 0.7399994rem; font-family: tdux1vg0">3</span><span class="ci" style="top: -0.0000005364418rem; left: 1.9552215rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 2.9930236rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.420785rem; left: 3.5490234rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 4.1838045rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: -0.0000005364418rem; left: 4.646805rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 5.0588045rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 5.460805rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 5.904805rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.005046129rem; left: 6.3818054rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: -0.0000005364418rem; left: 6.8818054rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: -0.0000005364418rem; left: 7.2708054rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: -0.0000005364418rem; left: 7.7708054rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 8.214806rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 8.631807rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 9.200488rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: 0.420785rem; left: 9.756488rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 10.224588rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 10.467908rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> adjacent statements 50 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">terminator</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt</span></code> empty statement 51 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">var_head

beginning</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stmt

beginning</span></code> end of variable declarations 52 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">var_head

math

colon</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">var_head

intro</span></code> <span class="canvas canvas-inline" style="width: 6.321286rem; height: 1.3319978rem; padding-left: 0.1199997rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.28999883rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: 0.28999883rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝐼</span><span class="ci" style="top: 0.28999883rem; left: 1.3131226rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.25323606rem; left: 2.3509247rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 3.0426056rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.25323606rem; left: 4.1772876rem; font-size: 1rem; font-family: tdux2">$</span><span class="ci" style="top: 0.28999883rem; left: 4.8689685rem; font-size: 1rem; font-family: tdux1">𝐶</span><span class="ci" style="top: 0.28999883rem; left: 5.5479674rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: 0.28999883rem; left: 5.7912874rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> variable declaration 53 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">var_head

simp

colon</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">var_head

intro</span></code> variable declaration 54 <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">var_head

stmt</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">var_head</span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 10.861808rem; height: 1.1607834rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.2433197rem; font-size: 1rem; font-family: tdux1vg0">[</span><span class="ci" style="top: -0.0000005364418rem; left: 0.6533203rem; font-size: 1rem; font-family: tdux1">𝑉</span><span class="ci" style="top: 0.420785rem; left: 1.3753204rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 2.121222rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 3.159024rem; font-size: 1rem; font-family: tdux1">𝑉</span><span class="ci" style="top: 0.420785rem; left: 3.8810241rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 4.5158052rem; font-size: 1rem; font-family: tdux1">𝑏</span><span class="ci" style="top: -0.0000005364418rem; left: 4.9788055rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 5.3908052rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 5.7928057rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 6.236806rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: 0.005046129rem; left: 6.713806rem; font-size: 1rem; font-family: tdux4">_</span><span class="ci" style="top: -0.0000005364418rem; left: 7.213806rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: -0.0000005364418rem; left: 7.602806rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: -0.0000005364418rem; left: 8.102806rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 8.546806rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 8.963808rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 9.532489rem; font-size: 1rem; font-family: tdux1">𝑆</span><span class="ci" style="top: -0.0000005364418rem; left: 10.088489rem; font-size: 1rem; font-family: tdux1vg0">]</span><span class="ci" style="top: -0.0000005364418rem; left: 10.331809rem; font-size: 1rem; font-family: tdux1vg0">]</span></span> variable declarations grow <p>Translations are not specified here when they are simple concatenations of the scraps that change. For example, the full translation of ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math

colon</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">open

math</span></code> ’ is <span class="canvas canvas-inline" style="width: 3.8108017rem; height: 1.1607834rem; padding-left: 0.05299988rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑂</span><span class="ci" style="top: 0.420785rem; left: 0.7779999rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 1.5239013rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 2.5617034rem; font-size: 1rem; font-family: tdux1">𝑂</span><span class="ci" style="top: 0.420785rem; left: 3.3397033rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span></span>, <span class="canvas canvas-inline" style="width: 4.787805rem; height: 1.1607834rem; padding-left: -0.018998718rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.420785rem; left: 0.94400024rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 1.6899017rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: -0.0000005364418rem; left: 2.7277038rem; font-size: 1rem; font-family: tdux1">𝑀</span><span class="ci" style="top: 0.420785rem; left: 3.671704rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 4.1398044rem; font-size: 1rem; font-family: tdux1">𝐶</span></span>.</p> <p>The notation ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">simp</span></code> *’, in the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">exp</span></code> -related productions above, stands for a <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">simp</span></code> scrap that isn’t followed by another <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">simp</span></code> .</p></section> <section class="ttweave-nonfirst"> <p>144. Implementing the productions. When Pascal  text is to be processed with the grammar above, we put its initial scraps <span class="canvas canvas-inline" style="width: 2.9117005rem; height: 1.1607834rem; padding-left: 0.008999634rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.420785rem; left: 0.38899994rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 1.0237808rem; font-size: 1rem; font-family: tdux1">…</span><span class="ci" style="top: -0.0000005364418rem; left: 2.0504625rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: 0.420785rem; left: 2.4394624rem; font-size: 0.7399994rem; font-family: tdux1vg0">𝑛</span></span> into two arrays <code></code> and <code></code> . The value of <code></code> is simply a category code from the list above; the value of <code></code> is a text pointer, i.e., an index into <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tok_start</span></code> . Our production rules have the nice property that the right-hand side is never longer than the left-hand side. Therefore it is convenient to use sequential allocation for the current sequence of scraps. Five pointers are used to manage the parsing:</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">pp</span></code> (the parsing pointer) is such that we are trying to match the category codes <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code> <span class="canvas canvas-inline" style="width: 0.93999785rem; height: 0.9999985rem; padding-left: -0.08668213rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0.16668092rem; font-size: 1rem; font-family: tdux1">…</span></span> to the left-hand sides of productions.</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">scrap_base</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">lo_ptr</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">hi_ptr</span></code> , and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">scrap_ptr</span></code> are such that the current sequence of scraps appears in positions <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">scrap_base</span></code> through <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">lo_ptr</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">hi_ptr</span></code> through <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">scrap_ptr</span></code> , inclusive, in the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cat</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">trans</span></code> arrays. Scraps located between <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">scrap_base</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">lo_ptr</span></code> have been examined, while those in positions <code></code> have not yet been looked at by the parsing process.</p> <p>Initially <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">scrap_ptr</span></code> is set to the position of the final scrap to be parsed, and it doesn’t change its value. The parsing process makes sure that <code></code> , since productions have as many as four terms, by moving scraps from <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">hi_ptr</span></code> to <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">lo_ptr</span></code> . If there are fewer than <code></code> scraps left, the positions up to <code></code> are filled with blanks that will not match in any productions. Parsing stops when <code></code> and <code></code> .</p> <p>The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">trans</span></code> array elements are declared to be of type <code></code> instead of type <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">text_pointer</span></code> , because the final sorting phase of WEAVE uses this array to contain elements of type <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">name_pointer</span></code> . Both of these types are subranges of <code></code> .</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">













 <p>stat



tats</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>145. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>146. Token lists in <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tok_mem</span></code> are composed of the following kinds of items for <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  output.</p> <p><span class="canvas canvas-inline" style="width: 0.6399979rem; height: 0.9999985rem; padding-left: 0.079998784rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">•</span></span>ASCII codes and special codes like <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math_rel</span></code> represent themselves;</p> <p><span class="canvas canvas-inline" style="width: 0.6399979rem; height: 0.9999985rem; padding-left: 0.079998784rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">•</span></span><code></code> represents \\{identifier <span class="canvas canvas-inline" style="width: 0.4930008rem; height: 0.9999985rem; padding-left: -0.0069992067rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑝</span></span>};</p> <p><span class="canvas canvas-inline" style="width: 0.6399979rem; height: 0.9999985rem; padding-left: 0.079998784rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">•</span></span><code></code> represents \&amp;{identifier <span class="canvas canvas-inline" style="width: 0.4930008rem; height: 0.9999985rem; padding-left: -0.0069992067rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑝</span></span>};</p> <p><span class="canvas canvas-inline" style="width: 0.6399979rem; height: 0.9999985rem; padding-left: 0.079998784rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">•</span></span><code></code> represents module name <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">p</span></code> ;</p> <p><span class="canvas canvas-inline" style="width: 0.6399979rem; height: 0.9999985rem; padding-left: 0.079998784rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">•</span></span><code></code> represents token list number <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">p</span></code> ;</p> <p><span class="canvas canvas-inline" style="width: 0.6399979rem; height: 0.9999985rem; padding-left: 0.079998784rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">•</span></span><code></code> represents token list number <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">p</span></code> , to be translated without line-break controls.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  id_flag  =  10240  //  signifies  an  identifier</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  res_flag  =
      //  signifies  a  reserved  word</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  mod_flag  =
      //  signifies  a  module  name</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  tok_flag  =
      //  signifies  a  token  list</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  inner_tok_flag  =
      //  signifies  a  token  list  in  `\pb'</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  lbrace  =
      //  this  avoids  possible  \PASCAL\  compiler  confusion</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  rbrace  =
      //  because  these  braces  might  occur  within  comments</span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>147. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>148. The production rules listed above are embedded directly into the WEAVE program, since it is easier to do this than to write an interpretive system that would handle production systems in general. Several macros are defined here so that the program for each production is fairly short.</p> <p>All of our productions conform to the general notion that some <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">k</span></code> consecutive scraps starting at some position <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">j</span></code> are to be replaced by a single scrap of some category <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">c</span></code> whose translation is composed from the translations of the disappearing scraps. After this production has been applied, the production pointer <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">pp</span></code> should change by an amount <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">d</span></code> . Such a production can be represented by the quadruple <span class="canvas canvas-inline" style="width: 3.9240434rem; height: 0.9999985rem; padding-left: 0.1199997rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">(</span><span class="ci" style="top: -0.0000005364418rem; left: 0.42400056rem; font-size: 1rem; font-family: tdux1">𝑗</span><span class="ci" style="top: -0.0000005364418rem; left: 0.725rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 1.141681rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: -0.0000005364418rem; left: 1.6186813rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 2.0353622rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 2.4523637rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 2.8690445rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 3.3800447rem; font-size: 1rem; font-family: tdux1vg0">)</span></span>. For example, the production ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">simp

math</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> ’ would be represented by ‘ <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 7.0380435rem; height: 0.9999985rem; padding-left: 0.1199997rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">(</span><span class="ci" style="top: -0.0000005364418rem; left: 0.42400056rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: -0.0000005364418rem; left: 0.92400056rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: -0.0000005364418rem; left: 1.4240006rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 1.8406814rem; font-size: 1rem; font-family: tdux1">2</span><span class="ci" style="top: -0.0000005364418rem; left: 2.3406816rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 2.7573624rem; font-size: 1rem; font-family: tdux1">𝑚</span><span class="ci" style="top: -0.0000005364418rem; left: 3.5353622rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 3.9793625rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 4.3173633rem; font-size: 1rem; font-family: tdux1">ℎ</span><span class="ci" style="top: -0.0000005364418rem; left: 4.8173633rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 5.234044rem; font-size: 1rem; font-family: tdux1">−</span><span class="ci" style="top: -0.0000005364418rem; left: 5.994045rem; font-size: 1rem; font-family: tdux1">1</span><span class="ci" style="top: -0.0000005364418rem; left: 6.494045rem; font-size: 1rem; font-family: tdux1vg0">)</span></span>’; in this case the pointer <span class="canvas canvas-inline" style="width: 0.9930008rem; height: 0.9999985rem; padding-left: -0.0069992067rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: -0.0000005364418rem; left: 0.5rem; font-size: 1rem; font-family: tdux1">𝑝</span></span> should decrease by 1 after the production has been applied, because some productions with <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> in their second positions might now match, but no productions have <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> in the third or fourth position of their left-hand sides. Note that the value of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">d</span></code> is determined by the whole collection of productions, not by an individual one. Consider the further example ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">var_head

math

colon</span></code> <span class="canvas canvas-inline" style="width: 0.35903627rem; height: 1.0001053rem; padding-left: 0.081007384rem; vertical-align: -0.27402803rem"><span class="ci" style="top: -0.00000029802322rem; left: 0rem; font-size: 1.0001068rem; font-family: tdux1">!</span></span> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">var_head

intro</span></code> ’, which is represented by ‘ <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code> <span class="canvas canvas-inline" style="width: 8.726526rem; height: 0.9999985rem; padding-left: 0.1199997rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">(</span><span class="ci" style="top: -0.0000005364418rem; left: 0.42400056rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: -0.0000005364418rem; left: 0.92400056rem; font-size: 1rem; font-family: tdux1">𝑝</span><span class="ci" style="top: -0.0000005364418rem; left: 1.6462418rem; font-size: 1rem; font-family: tdux1">+</span><span class="ci" style="top: -0.0000005364418rem; left: 2.6284835rem; font-size: 1rem; font-family: tdux1">1</span><span class="ci" style="top: -0.0000005364418rem; left: 3.1284835rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 3.5451646rem; font-size: 1rem; font-family: tdux1">2</span><span class="ci" style="top: -0.0000005364418rem; left: 4.0451646rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 4.4618454rem; font-size: 1rem; font-family: tdux1">𝑖</span><span class="ci" style="top: -0.0000005364418rem; left: 4.7558455rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 5.3118453rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 5.649846rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 6.0618453rem; font-size: 1rem; font-family: tdux1">𝑜</span><span class="ci" style="top: -0.0000005364418rem; left: 6.5058455rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 6.922527rem; font-size: 1rem; font-family: tdux1">+</span><span class="ci" style="top: -0.0000005364418rem; left: 7.682527rem; font-size: 1rem; font-family: tdux1">1</span><span class="ci" style="top: -0.0000005364418rem; left: 8.182528rem; font-size: 1rem; font-family: tdux1vg0">)</span></span>’; the <span class="canvas canvas-inline" style="width: 1.3399994rem; height: 0.9999985rem; padding-left: 0.079998784rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">+</span><span class="ci" style="top: -0.0000005364418rem; left: 0.76000065rem; font-size: 1rem; font-family: tdux1">1</span></span> here is deduced by looking at the grammar and seeing that no matches could possibly occur at positions <code></code> after this production has been applied. The determination of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">d</span></code> has been done by hand in each case, based on the full set of productions but not on the grammar of Pascal  or on the rules for constructing the initial scraps.</p> <p>We also attach a serial number to each production, so that additional information is available when debugging. For example, the program below contains the statement ‘<code></code> ’ when it implements the production just mentioned.</p> <p>Before calling <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">reduce</span></code> , the program should have appended the tokens of the new translation to the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tok_mem</span></code> array. We commonly want to append copies of several existing translations, and macros are defined to simplify these common cases. For example, <code></code> will append the translations of two consecutive scraps, <code></code> and <code></code> , to the current token list. If the entire new translation is formed in this way, we write ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 6.554044rem; height: 0.9999985rem; padding-left: 0.008999634rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: -0.0000005364418rem; left: 0.38899994rem; font-size: 1rem; font-family: tdux1">𝑞</span><span class="ci" style="top: -0.0000005364418rem; left: 0.8520004rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: -0.0000005364418rem; left: 1.4080002rem; font-size: 1rem; font-family: tdux1">𝑎</span><span class="ci" style="top: -0.0000005364418rem; left: 1.8520005rem; font-size: 1rem; font-family: tdux1">𝑠</span><span class="ci" style="top: -0.0000005364418rem; left: 2.2410004rem; font-size: 1rem; font-family: tdux1">ℎ</span><span class="ci" style="top: -0.0000005364418rem; left: 2.7410004rem; font-size: 1rem; font-family: tdux1vg0">(</span><span class="ci" style="top: -0.0000005364418rem; left: 3.165001rem; font-size: 1rem; font-family: tdux1">𝑗</span><span class="ci" style="top: -0.0000005364418rem; left: 3.4660003rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 3.8826814rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: -0.0000005364418rem; left: 4.3596816rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 4.776363rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 5.193364rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 5.610045rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 6.121045rem; font-size: 1rem; font-family: tdux1vg0">)</span></span>’ instead of ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 6.5300446rem; height: 0.9999985rem; padding-left: 0.025999451rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑟</span><span class="ci" style="top: -0.0000005364418rem; left: 0.41199952rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 0.81399995rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 1.325rem; font-size: 1rem; font-family: tdux1">𝑢</span><span class="ci" style="top: -0.0000005364418rem; left: 1.8809998rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 2.298001rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 2.7000015rem; font-size: 1rem; font-family: tdux1vg0">(</span><span class="ci" style="top: -0.0000005364418rem; left: 3.1240022rem; font-size: 1rem; font-family: tdux1">𝑗</span><span class="ci" style="top: -0.0000005364418rem; left: 3.4250016rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 3.8416824rem; font-size: 1rem; font-family: tdux1">𝑘</span><span class="ci" style="top: -0.0000005364418rem; left: 4.318683rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 4.735364rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 5.152365rem; font-size: 1rem; font-family: tdux1">,</span><span class="ci" style="top: -0.0000005364418rem; left: 5.569046rem; font-size: 1rem; font-family: tdux1">𝑑</span><span class="ci" style="top: -0.0000005364418rem; left: 6.080046rem; font-size: 1rem; font-family: tdux1vg0">)</span></span>’. For example, ‘<code></code> ’ is an abbreviation for ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code> ’.</p> <p>The code below is an exact translation of the production rules into Pascal, using such macros, and the reader should have no difficulty understanding the format by comparing the code with the symbolic productions as they were listed earlier.</p> <p>Caution: The macros <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">app</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">app1</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">app2</span></code> , and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">app3</span></code> are sequences of statements that are not enclosed with <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">begin</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"></span></code><span class="canvas canvas-inline" style="width: 1.4729996rem; height: 0.9999985rem; padding-left: 0.01499939rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 0.40200043rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 0.9580002rem; font-size: 1rem; font-family: tdux1">𝑑</span></span>, because such delimiters would make the Pascal  program much longer. This means that it is necessary to write <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">begin</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">end</span></code> explicitly when such a macro is used as a single statement. Several mysterious bugs in the original programming of WEAVE were caused by a failure to remember this fact. Next time the author will know better.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  production(#)  =
    </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  reduce(#)  =
    
     production</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  production_end(#)  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  squash(#)  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  app(#)  =
     
     //  this  is  like  app_tok  ,  but  it  doesn't  test  for  overflow</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  app1(#)  =
    </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  app2(#)  =
    </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  app3(#)  =
    </span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>149. Let us consider the big case statement for productions now, before looking at its context. We want to design the program so that this case statement works, so we might as well not keep ourselves in suspense about exactly what code needs to be provided with a proper environment.</p> <p>The code here is more complicated than it need be, since some popular Pascal  compilers are unable to deal with procedures that contain a lot of program text. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">translate</span></code> procedure, which incorporates the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">case</span></code> statement here, would become too long for those compilers if we did not do something to split the cases into parts. Therefore a separate procedure called <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">five_cases</span></code> has been introduced. This auxiliary procedure contains approximately half of the program text that <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">translate</span></code> would otherwise have had. There’s also a procedure called <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">alpha_cases</span></code> , which turned out to be necessary because the best two-way split wasn’t good enough. The procedure could be split further in an analogous manner, but the present scheme works on all compilers known to the author.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>150. Here are the procedures that need to be present for the reason just explained.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></section><section class="ttweave-nonfirst"> <p>151. Now comes the code that tries to match each production starting with a particular type of scrap. Whenever a match is discovered, the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">squash</span></code> or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">reduce</span></code> macro will cause the appropriate action to be performed, followed by <code></code> .</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>152. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>153. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>154. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>155. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>156. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>157. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>158. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>159. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>160. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>161. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>162. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>163. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>164. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>165. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>166. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>167. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>168. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>169. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>170. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>171. The ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">freeze_text</span></code> ’ macro is used to give official status to a token list. Before saying <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">freeze_text</span></code> , items are appended to the current token list, and we know that the eventual number of this token list will be the current value of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">text_ptr</span></code> . But no list of that number really exists as yet, because no ending point for the current list has been stored in the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tok_start</span></code> array. After saying <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">freeze_text</span></code> , the old current token list becomes legitimate, and its number is the current value of <code></code> since <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">text_ptr</span></code> has been increased. The new current token list is empty and ready to be appended to. Note that <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">freeze_text</span></code> does not check to see that <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">text_ptr</span></code> hasn’t gotten too large, since it is assumed that this test was done beforehand.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  freeze_text  =
    </span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>172. The ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">reduce</span></code> ’ macro used in our code for productions actually calls on a procedure named ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">red</span></code> ’, which makes the appropriate changes to the scrap list.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>173. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>174. Similarly, the ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">squash</span></code> ’ macro invokes a procedure called ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">sq</span></code> ’. This procedure takes advantage of the simplification that occurs when <code></code> .</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>175. Here now is the code that applies productions as long as possible. It requires two local labels (<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">found</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">done</span></code> ), as well as a local variable (<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">i</span></code> ).</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></section><section class="ttweave-nonfirst"> <p>176. If we get to the end of the scrap list, category codes equal to zero are stored, since zero does not match anything in a production.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>177. If WEAVE is being run in debugging mode, the production numbers and current stack categories will be printed out when <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tracing</span></code> is set to 2; a sequence of two or more irreducible scraps will be printed out when <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tracing</span></code> is set to 1.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>debug



gubed</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>178. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">prod</span></code> procedure is called in debugging mode just after <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">reduce</span></code> or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">squash</span></code> ; its parameter is the number of the production that has just been applied.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>179. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">translate</span></code> function assumes that scraps have been stored in positions <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">scrap_base</span></code> through <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">scrap_ptr</span></code> of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cat</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">trans</span></code> . It appends a <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">terminator</span></code> scrap and begins to apply productions as much as possible. The result is a token list containing the translation of the given sequence of scraps.</p> <p>After calling <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">translate</span></code> , we will have <code></code> and <code></code> , so it will be possible to create up to three token lists with up to six tokens without checking for overflow. Before calling <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">translate</span></code> , we should have <code></code> and <code></code> , since <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">translate</span></code> might add a new text and a new scrap before it checks for overflow.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>&lt;  Declaration  of  subprocedures  for  |translate|  &gt;

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>180. If the initial sequence of scraps does not reduce to a single scrap, we concatenate the translations of all remaining scraps, separated by blank spaces, with dollar signs surrounding the translations of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">math</span></code> scraps.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>181. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>182. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>183. Initializing the scraps. If we are going to use the powerful production mechanism just developed, we must get the scraps set up in the first place, given a Pascal  text. A table of the initial scraps corresponding to Pascal  tokens appeared above in the section on parsing; our goal now is to implement that table. We shall do this by implementing a subroutine called <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">Pascal_parse</span></code> that is analogous to the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">Pascal_xref</span></code> routine used during phase one.</p> <p>Like <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">Pascal_xref</span></code> , the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">Pascal_parse</span></code> procedure starts with the current value of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">next_control</span></code> and it uses the operation <code></code> repeatedly to read Pascal  text until encountering the next ‘|’ or ‘{’, or until <code></code> . The scraps corresponding to what it reads are appended into the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cat</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">trans</span></code> arrays, and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">scrap_ptr</span></code> is advanced.</p> <p>Like <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">prod</span></code> , this procedure has to split into pieces so that each part is short enough to be handled by Pascal  compilers that discriminate against long subroutines. This time there are two split-off routines, called <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">easy_cases</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">sub_cases</span></code> .</p> <p>After studying <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">Pascal_parse</span></code> , we will look at the sub-procedures <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">app_comment</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">app_octal</span></code> , and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">app_hex</span></code> that are used in some of its branches.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>&lt;  Declaration  of  the  |app_comment|  procedure  &gt;

&lt;  Declaration  of  the  |app_octal|  and  |app_hex|  procedures  &gt;

&lt;  Declaration  of  the  |easy_cases|  procedure  &gt;

&lt;  Declaration  of  the  |sub_cases|  procedure  &gt;

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>184. The macros defined here are helpful abbreviations for the operations needed when generating the scraps. A scrap of category <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">c</span></code> whose translation has three tokens <span class="canvas canvas-inline" style="width: 0.7920975rem; height: 1.1607834rem; padding-left: 0.040998843rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.420785rem; left: 0.33300018rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span></span>, <span class="canvas canvas-inline" style="width: 0.7920975rem; height: 1.1607834rem; padding-left: 0.040998843rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.420785rem; left: 0.33300018rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span></span>, <span class="canvas canvas-inline" style="width: 0.7920975rem; height: 1.1607834rem; padding-left: 0.040998843rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.420785rem; left: 0.33300018rem; font-size: 0.7399994rem; font-family: tdux1vg0">3</span></span> is generated by <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">sc3</span></code> <span class="canvas canvas-inline" style="width: 6.3323045rem; height: 1.1607834rem; padding-left: 0.1199997rem; vertical-align: -0.43478394rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1vg0">(</span><span class="ci" style="top: -0.0000005364418rem; left: 0.42400056rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.420785rem; left: 0.75700074rem; font-size: 0.7399994rem; font-family: tdux1vg0">1</span><span class="ci" style="top: -0.0000005364418rem; left: 1.2251008rem; font-size: 1rem; font-family: tdux1vg0">)</span><span class="ci" style="top: -0.0000005364418rem; left: 1.6491013rem; font-size: 1rem; font-family: tdux1vg0">(</span><span class="ci" style="top: -0.0000005364418rem; left: 2.0731018rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.420785rem; left: 2.406102rem; font-size: 0.7399994rem; font-family: tdux1vg0">2</span><span class="ci" style="top: -0.0000005364418rem; left: 2.874202rem; font-size: 1rem; font-family: tdux1vg0">)</span><span class="ci" style="top: -0.0000005364418rem; left: 3.2982025rem; font-size: 1rem; font-family: tdux1vg0">(</span><span class="ci" style="top: -0.0000005364418rem; left: 3.722203rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: 0.420785rem; left: 4.0552034rem; font-size: 0.7399994rem; font-family: tdux1vg0">3</span><span class="ci" style="top: -0.0000005364418rem; left: 4.5233035rem; font-size: 1rem; font-family: tdux1vg0">)</span><span class="ci" style="top: -0.0000005364418rem; left: 4.947304rem; font-size: 1rem; font-family: tdux1vg0">(</span><span class="ci" style="top: -0.0000005364418rem; left: 5.3713045rem; font-size: 1rem; font-family: tdux1">𝑐</span><span class="ci" style="top: -0.0000005364418rem; left: 5.7883058rem; font-size: 1rem; font-family: tdux1vg0">)</span></span>, etc.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  s0(#)  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  s1(#)  =
    
     s0</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  s2(#)  =
    
     s1</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  s3(#)  =
    
     s2</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  s4(#)  =
    
     s3</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  sc4  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  sc3  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  sc2  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  sc1  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  sc0(#)  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  comment_scrap(#)  = </span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>185. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>186. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">easy_cases</span></code> each result in straightforward scraps.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>187. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>188. Some nonstandard ASCII characters may have entered WEAVE by means of standard ones. They are converted to <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  control sequences so that it is possible to keep WEAVE from stepping beyond standard ASCII.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">





























</span></code></pre></section><section class="ttweave-nonfirst"> <p>189. The following code must use <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">app_tok</span></code> instead of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">app</span></code> in order to protect against overflow. Note that <code></code> after <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">app_tok</span></code> has been used, so another <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">app</span></code> is legitimate before testing again.</p> <p>Many of the special characters in a string must be prefixed by ‘\’ so that <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  will print them properly.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>190. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>191. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>192. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">sub_cases</span></code> also result in straightforward scraps.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>193. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">









































</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>194. If a comment or semicolon appears before the reserved words &amp;end, &amp;else, or &amp;until, the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">semi</span></code> or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">terminator</span></code> scrap that is already present overrides the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">terminator</span></code> scrap belonging to this reserved word.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>195. A comment is incorporated into the previous scrap if that scrap is of type <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">omega</span></code> or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">semi</span></code> or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">terminator</span></code> . (These three categories have consecutive category codes.) Otherwise the comment is entered as a separate scrap of type <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">terminator</span></code> , and it will combine with a <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">terminator</span></code> scrap that immediately follows  it.</p> <p>The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">app_comment</span></code> procedure takes care of placing a comment at the end of the current scrap list. When <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">app_comment</span></code> is called, we assume that the current token list is the translation of the comment involved.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>196. We are now finished with <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">Pascal_parse</span></code> , except for two relatively trivial subprocedures that convert constants into tokens.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></section><section class="ttweave-nonfirst"> <p>197. When the ‘|’ that introduces Pascal  text is sensed, a call on <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">Pascal_translate</span></code> will return a pointer to the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  translation of that text. If scraps exist in the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cat</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">trans</span></code> arrays, they are unaffected by this translation process.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>198. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">outer_parse</span></code> routine is to <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">Pascal_parse</span></code> as <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">outer_xref</span></code> is to <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">Pascal_xref</span></code> : It constructs a sequence of scraps for Pascal  text until <code></code> . Thus, it takes care of embedded comments.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>199. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>200. Output of tokens. So far our programs have only built up multi-layered token lists in WEAVE’s internal memory; we have to figure out how to get them into the desired final form. The job of converting token lists to characters in the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  output file is not difficult, although it is an implicitly recursive process. Four main considerations had to be kept in mind when this part of WEAVE was designed. (a) There are two modes of output: <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">outer</span></code> mode, which translates tokens like <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> into line-breaking control sequences, and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">inner</span></code> mode, which ignores them except that blank spaces take the place of line breaks. (b) The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cancel</span></code> instruction applies to adjacent token or tokens that are output, and this cuts across levels of recursion since ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cancel</span></code> ’ occurs at the beginning or end of a token list on one level. (c) The <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  output file will be semi-readable if line breaks are inserted after the result of tokens like <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">break_space</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> . (d) The final line break should be suppressed, and there should be no <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> token output immediately after ‘\Y\P’.</p></section> <section class="ttweave-nonfirst"> <p>201. The output process uses a stack to keep track of what is going on at different “levels” as the token lists are being written out. Entries on this stack have three parts:</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">end_field</span></code> is the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tok_mem</span></code> location where the token list of a particular level will end;</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tok_field</span></code> is the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tok_mem</span></code> location from which the next token on a particular level will be read;</p> <p><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">mode_field</span></code> is the current mode, either <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">inner</span></code> or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">outer</span></code> .</p> <p>The current values of these quantities are referred to quite frequently, so they are stored in a separate place instead of in the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stack</span></code> array. We call the current values <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cur_end</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cur_tok</span></code> , and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cur_mode</span></code> .</p> <p>The global variable <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">stack_ptr</span></code> tells how many levels of output are currently in progress. The end of output occurs when an <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">end_translation</span></code> token is found, so the stack is never empty except when we first begin the output process.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  inner  =
     0  //  value  of  mode  for  \PASCAL\  texts  within  \TeX\  texts</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  outer  =
     1  //  value  of  mode  for  \PASCAL\  texts  in  modules</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>202. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  cur_end  =
      //  current  ending  location  in  tok_mem </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  cur_tok  =
      //  location  of  next  output  token  in  tok_mem </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  cur_mode  =
      //  current  mode  of  interpretation</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  init_stack  =
    </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">





stat



tats</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>203. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>204. To insert token-list <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">p</span></code> into the output, the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">push_level</span></code> subroutine is called; it saves the old level of output and gets a new one going. The value of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cur_mode</span></code> is not changed.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>205. Conversely, the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">pop_level</span></code> routine restores the conditions that were in force when the current level was begun. This subroutine will never be called when <code></code> . It is so simple, we declare it as a macro:</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  pop_level  = </span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>206. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">get_output</span></code> function returns the next byte of output that is not a reference to a token list. It returns the values <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">identifier</span></code> or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">res_word</span></code> or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">mod_name</span></code> if the next token is to be an identifier (typeset in italics), a reserved word (typeset in boldface) or a module name (typeset by a complex routine that might generate additional levels of output). In these cases <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cur_name</span></code> points to the identifier or module name in question.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  res_word  =
     0x81  //  returned  by  get_output  for  reserved  words</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  mod_name  =
     0x80  //  returned  by  get_output  for  module  names</span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>207. The real work associated with token output is done by <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">make_output</span></code> . This procedure appends an <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">end_translation</span></code> token to the current token list, and then it repeatedly calls <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">get_output</span></code> and feeds characters to the output buffer until reaching the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">end_translation</span></code> sentinel. It is possible for <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">make_output</span></code> to be called recursively, since a module name may include embedded Pascal  text; however, the depth of recursion never exceeds one level, since module names cannot be inside of module names.</p> <p>A procedure called <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">output_Pascal</span></code> does the scanning, translation, and output of Pascal  text within ‘<span class="canvas canvas-inline" style="width: 2.4703615rem; height: 1.3319978rem; padding-left: 0.22699891rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.25323606rem; left: 0rem; font-size: 1rem; font-family: tdux2">|</span><span class="ci" style="top: 0.28999883rem; left: 0.6916809rem; font-size: 1rem; font-family: tdux1">…</span><span class="ci" style="top: 0.25323606rem; left: 1.7183625rem; font-size: 1rem; font-family: tdux2">|</span></span>’ brackets, and this procedure uses <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">make_output</span></code> to output the current token list. Thus, the recursive call of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">make_output</span></code> actually occurs when <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">make_output</span></code> calls <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">output_Pascal</span></code> while outputting the name of a module.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>procedure

make_output

forward

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>208. Here is WEAVE’s major output handler.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>209. An identifier of length one does not have to be enclosed in braces, and it looks slightly better if set in a math-italic font instead of a (slightly narrower) text-italic font. Thus we output ‘\|a’ but ‘\\{aa}’.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>210. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>211. The current mode does not affect the behavior of WEAVE’s output routine except when we are outputting control tokens.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>212. If several of the tokens <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">break_space</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> , <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">big_force</span></code> occur in a row, possibly mixed with blank spaces (which are ignored), the largest one is used. A line break also occurs in the output file, except at the very end of the translation. The very first line break is suppressed (i.e., a line break that follows ‘\Y\P’).</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>213. The remaining part of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">make_output</span></code> is somewhat more complicated. When we output a module name, we may need to enter the parsing and translation routines, since the name may contain Pascal  code embedded in <span class="canvas canvas-inline" style="width: 2.4703615rem; height: 1.3319978rem; padding-left: 0.22699891rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.25323606rem; left: 0rem; font-size: 1rem; font-family: tdux2">|</span><span class="ci" style="top: 0.28999883rem; left: 0.6916809rem; font-size: 1rem; font-family: tdux1">…</span><span class="ci" style="top: 0.25323606rem; left: 1.7183625rem; font-size: 1rem; font-family: tdux2">|</span></span>  constructions. This Pascal  code is placed at the end of the active input buffer and the translation process uses the end of the active <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">tok_mem</span></code> area.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>214. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">







</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>215. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>216. The Pascal  text enclosed in <span class="canvas canvas-inline" style="width: 2.4703615rem; height: 1.3319978rem; padding-left: 0.22699891rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.25323606rem; left: 0rem; font-size: 1rem; font-family: tdux2">|</span><span class="ci" style="top: 0.28999883rem; left: 0.6916809rem; font-size: 1rem; font-family: tdux1">…</span><span class="ci" style="top: 0.25323606rem; left: 1.7183625rem; font-size: 1rem; font-family: tdux2">|</span></span>  should not contain ‘|’ characters, except within strings. We put a ‘|’ at the front of the buffer, so that an error message that displays the whole buffer will look a little bit sensible. The variable <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">string_delimiter</span></code> is zero outside of strings, otherwise it equals the delimiter that began the string being copied.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">







</span></code></pre></section><section class="ttweave-nonfirst"> <p>217. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>218. Phase two processing. We have assembled enough pieces of the puzzle in order to be ready to specify the processing in WEAVE’s main pass over the source file. Phase two is analogous to phase one, except that more work is involved because we must actually output the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  material instead of merely looking at the WEB specifications.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>reset_input





copy_limbo

finish_line



</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>219. The output file will contain the control sequence \Y between non-null sections of a module, e.g., between the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  and definition parts if both are nonempty. This puts a little white space between the parts when they are printed. However, we don’t want \Y to occur between two definitions within a single module. The variables <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">out_line</span></code> or <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">out_ptr</span></code> will change if a section is non-null, so the following macros ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">save_position</span></code> ’ and ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">emit_space_if_needed</span></code> ’ are able to handle the situation:</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  save_position  =
    </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  emit_space_if_needed  = </span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>220. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>221. Modules beginning with the WEB control sequence ‘@  ’ start in the output with the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  control sequence ‘\M’, followed by the module number. Similarly, ‘@*’ modules lead to the control sequence ‘\N’. If this is a changed module, we put * just before the module number.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">





</span></code></pre></section><section class="ttweave-nonfirst"> <p>222. In the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  part of a module, we simply copy the source text, except that index entries are not copied and Pascal  text within <span class="canvas canvas-inline" style="width: 2.4703615rem; height: 1.3319978rem; padding-left: 0.22699891rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.25323606rem; left: 0rem; font-size: 1rem; font-family: tdux2">|</span><span class="ci" style="top: 0.28999883rem; left: 0.6916809rem; font-size: 1rem; font-family: tdux1">…</span><span class="ci" style="top: 0.25323606rem; left: 1.7183625rem; font-size: 1rem; font-family: tdux2">|</span></span>  is translated.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>repeat





until

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>223. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>224. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>225. When we get to the following code we have <code></code> , and the token memory is in its initial empty state.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

 <p>while



do  //   format  or  definition 

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>226. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">finish_Pascal</span></code> procedure outputs the translation of the current scraps, preceded by the control sequence ‘\P’ and followed by the control sequence ‘\par’. It also restores the token and scrap memories to their initial empty state.</p> <p>A <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> token is appended to the current scraps before translation takes place, so that the translation will normally end with \6 or \7 (the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  macros for <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">force</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">big_force</span></code> ). This \6 or \7 is replaced by the concluding \par or by \Y\par.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>227. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>228. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>229. Finally, when the <span class="canvas canvas-inline" style="width: 1.6172974rem; height: 1.2414993rem; padding-left: 0.017999267rem; vertical-align: -0.5154999rem"><span class="ci" style="top: 0.005046129rem; left: 0rem; font-size: 1rem; font-family: tdux4">T</span><span class="ci" style="top: 0.23954624rem; left: 0.4462982rem; font-size: 1rem; font-family: tdux4">E</span><span class="ci" style="top: 0.005046129rem; left: 0.9322983rem; font-size: 1rem; font-family: tdux4">X</span></span>  and definition parts have been treated, we have <code></code> . We will make the global variable <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">this_module</span></code> point to the current module name, if it has a name.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>230. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>231. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> 
 //  allow  optional  `\.{+=}'













</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>232. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>233. Cross references relating to a named module are given after the module ends.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>234. To rearrange the order of the linked list of cross references, we need four more variables that point to cross reference entries. We’ll end up with a list pointed to by <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cur_xref</span></code> .</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>235. We want to rearrange the cross reference list so that all the entries with <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">def_flag</span></code> come first, in ascending order; then come all the other entries, in ascending order. There may be no entries in either one or both of these categories.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">











</span></code></pre></section><section class="ttweave-nonfirst"> <p>236. The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">footnote</span></code> procedure gives cross reference information about multiply defined module names (if the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">flag</span></code> parameter is <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">def_flag</span></code> ), or about the uses of a module name (if the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">flag</span></code> parameter is zero). It assumes that <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cur_xref</span></code> points to the first cross-reference entry of interest, and it leaves <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cur_xref</span></code> pointing to the first element not printed. Typical outputs: ‘\A101.’; ‘\Us370\ET1009.’; ‘\As8, 27\*, 51\ETs64.’.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>237. The following code distinguishes three cases, according as the number of cross references is one, two, or more than two. Variable <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">q</span></code> points to the first cross reference, and the last link is a zero.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">





</span></code></pre></section><section class="ttweave-nonfirst"> <p>238. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

finish_line

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>239. Phase three processing. We are nearly finished! WEAVE’s only remaining task is to write out the index, after sorting the identifiers and index entries.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">





 <p>finish_line



finish_line

&lt;  Do  the  first  pass  of  sorting  &gt;

&lt;  Sort  and  output  the  index  &gt;



finish_line

&lt;  Output  all  the  module  names  &gt;



finish_line

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>240. Just before the index comes a list of all the changed modules, including the index module itself.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>241. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">begin  //  remember  that  the  index  is  already  marked  as  changed











end</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>242. A left-to-right radix sorting method is used, since this makes it easy to adjust the collating sequence and since the running time will be at worst proportional to the total length of all entries in the index. We put the identifiers into 230 different lists based on their first characters. (Uppercase letters are put into the same list as the corresponding lowercase letters, since we want to have ‘<span class="canvas canvas-inline" style="width: 6.9002047rem; height: 0.9999985rem; padding-left: 0.040998843rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 0.615802rem; font-size: 1rem; font-family: tdux1">&lt;</span><span class="ci" style="top: -0.0000005364418rem; left: 1.6606034rem; font-size: 1rem; font-family: tdux1vg0">\</span><span class="ci" style="top: -0.0000005364418rem; left: 2.1466033rem; font-size: 1rem; font-family: tdux1">𝑇</span><span class="ci" style="top: -0.0000005364418rem; left: 2.809604rem; font-size: 1rem; font-family: tdux1">𝑒</span><span class="ci" style="top: -0.0000005364418rem; left: 3.2116044rem; font-size: 1rem; font-family: tdux1">𝑋</span><span class="ci" style="top: -0.0000005364418rem; left: 4.2514052rem; font-size: 1rem; font-family: tdux1">&lt;</span><span class="ci" style="top: -0.0000005364418rem; left: 5.296207rem; font-size: 1rem; font-family: tdux1">&amp;</span><span class="ci" style="top: -0.0000005364418rem; left: 6.0772066rem; font-size: 1rem; font-family: tdux1">𝑡</span><span class="ci" style="top: -0.0000005364418rem; left: 6.415207rem; font-size: 1rem; font-family: tdux1">𝑜</span></span>’.) The list for character <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">c</span></code> begins at location <code></code> and continues through the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">blink</span></code> array.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">







</span></code></pre></section><section class="ttweave-nonfirst"> <p>243. To begin the sorting, we go through all the hash lists and put each entry having a nonempty cross-reference list into the proper bucket.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></section><section class="ttweave-nonfirst"> <p>244. During the sorting phase we shall use the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cat</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">trans</span></code> arrays from WEAVE’s parsing algorithm and rename them <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">depth</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">head</span></code> . They now represent a stack of identifier lists for all the index entries that have not yet been output. The variable <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">sort_ptr</span></code> tells how many such lists are present; the lists are output in reverse order (first <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">sort_ptr</span></code> , then <code></code> , etc.). The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">j</span></code> th list starts at <code></code> , and if the first <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">k</span></code> characters of all entries on this list are known to be equal we have <code></code> .</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  depth  =
     cat  //  reclaims  memory  that  is  no  longer  needed  for  parsing</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  head  =  trans  //  ditto</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  sort_ptr  =  scrap_ptr  //  ditto</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  max_sorts  =  max_scraps  //  ditto</span></code></pre> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">







stat



tats  //  largest  value  of  sort_ptr </span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>245. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>246. The desired alphabetic order is specified by the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">collate</span></code> array; namely, <code></code> .</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>247. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>248. We use the order  <span class="canvas canvas-inline" style="width: 29.529633rem; height: 1.3319978rem; padding-left: 0.005999756rem; vertical-align: -0.31599885rem"><span class="ci" style="top: 0.2950455rem; left: 0rem; font-size: 1rem; font-family: tdux4">n</span><span class="ci" style="top: 0.2950455rem; left: 0.58200073rem; font-size: 1rem; font-family: tdux4">u</span><span class="ci" style="top: 0.2950455rem; left: 1.1850007rem; font-size: 1rem; font-family: tdux4">l</span><span class="ci" style="top: 0.2950455rem; left: 1.4759995rem; font-size: 1rem; font-family: tdux4">l</span><span class="ci" style="top: 0.28999883rem; left: 2.0448015rem; font-size: 1rem; font-family: tdux1">&lt;</span><span class="ci" style="top: 0.28999883rem; left: 3.8924043rem; font-size: 1rem; font-family: tdux1">&lt;</span><span class="ci" style="top: 0.2950455rem; left: 4.937206rem; font-size: 1rem; font-family: tdux4">o</span><span class="ci" style="top: 0.2950455rem; left: 5.4682055rem; font-size: 1rem; font-family: tdux4">t</span><span class="ci" style="top: 0.2950455rem; left: 5.8092055rem; font-size: 1rem; font-family: tdux4">h</span><span class="ci" style="top: 0.2950455rem; left: 6.391205rem; font-size: 1rem; font-family: tdux4">e</span><span class="ci" style="top: 0.2950455rem; left: 6.870206rem; font-size: 1rem; font-family: tdux4">r</span><span class="ci" style="top: 0.2950455rem; left: 7.5152054rem; font-size: 1rem; font-family: tdux4">c</span><span class="ci" style="top: 0.2950455rem; left: 7.9592056rem; font-size: 1rem; font-family: tdux4">h</span><span class="ci" style="top: 0.2950455rem; left: 8.541205rem; font-size: 1rem; font-family: tdux4">a</span><span class="ci" style="top: 0.2950455rem; left: 9.041205rem; font-size: 1rem; font-family: tdux4">r</span><span class="ci" style="top: 0.2950455rem; left: 9.4212055rem; font-size: 1rem; font-family: tdux4">a</span><span class="ci" style="top: 0.2950455rem; left: 9.9212055rem; font-size: 1rem; font-family: tdux4">c</span><span class="ci" style="top: 0.2950455rem; left: 10.365206rem; font-size: 1rem; font-family: tdux4">t</span><span class="ci" style="top: 0.2950455rem; left: 10.691205rem; font-size: 1rem; font-family: tdux4">e</span><span class="ci" style="top: 0.2950455rem; left: 11.170206rem; font-size: 1rem; font-family: tdux4">r</span><span class="ci" style="top: 0.2950455rem; left: 11.565206rem; font-size: 1rem; font-family: tdux4">s</span><span class="ci" style="top: 0.28999883rem; left: 12.267008rem; font-size: 1rem; font-family: tdux1">&lt;</span><span class="ci" style="top: 0.25323606rem; left: 13.311809rem; font-size: 1rem; font-family: tdux2">_</span><span class="ci" style="top: 0.28999883rem; left: 14.114611rem; font-size: 1rem; font-family: tdux1">&lt;</span><span class="ci" style="top: 0.25323606rem; left: 15.159411rem; font-size: 1rem; font-family: tdux2">A</span><span class="ci" style="top: 0.28999883rem; left: 15.9622135rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.25323606rem; left: 17.000015rem; font-size: 1rem; font-family: tdux2">a</span><span class="ci" style="top: 0.28999883rem; left: 17.802816rem; font-size: 1rem; font-family: tdux1">&lt;</span><span class="ci" style="top: 0.28999883rem; left: 18.847618rem; font-size: 1rem; font-family: tdux1">⋯</span><span class="ci" style="top: 0.28999883rem; left: 19.98542rem; font-size: 1rem; font-family: tdux1">&lt;</span><span class="ci" style="top: 0.25323606rem; left: 21.030222rem; font-size: 1rem; font-family: tdux2">Z</span><span class="ci" style="top: 0.28999883rem; left: 21.833023rem; font-size: 1rem; font-family: tdux1">=</span><span class="ci" style="top: 0.25323606rem; left: 22.870825rem; font-size: 1rem; font-family: tdux2">z</span><span class="ci" style="top: 0.28999883rem; left: 23.673628rem; font-size: 1rem; font-family: tdux1">&lt;</span><span class="ci" style="top: 0.25323606rem; left: 24.718428rem; font-size: 1rem; font-family: tdux2">0</span><span class="ci" style="top: 0.28999883rem; left: 25.52123rem; font-size: 1rem; font-family: tdux1">&lt;</span><span class="ci" style="top: 0.28999883rem; left: 26.56603rem; font-size: 1rem; font-family: tdux1">⋯</span><span class="ci" style="top: 0.28999883rem; left: 27.703833rem; font-size: 1rem; font-family: tdux1">&lt;</span><span class="ci" style="top: 0.25323606rem; left: 28.748632rem; font-size: 1rem; font-family: tdux2">9</span><span class="ci" style="top: 0.28999883rem; left: 29.273634rem; font-size: 1rem; font-family: tdux1">.</span></span></p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



















</span></code></pre></section><section class="ttweave-nonfirst"> <p>249. Procedure <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">unbucket</span></code> goes through the buckets and adds nonempty lists to the stack, using the collating sequence specified in the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">collate</span></code> array. The parameter to <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">unbucket</span></code> tells the current depth in the buckets. Any two sequences that agree in their first 255 character positions are regarded as identical.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> <p>@define  infinity  =  255  //  $\infty$  (approximately)</span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>250. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>251. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>252. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>253. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>254. Section numbers that are to be underlined are enclosed in ‘\[<span class="canvas canvas-inline" style="width: 0.93999785rem; height: 0.9999985rem; padding-left: -0.08668213rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0.16668092rem; font-size: 1rem; font-family: tdux1">…</span></span> ]’.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">





 <p>finish_line</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>255. List inversion is best thought of as popping elements off one stack and pushing them onto another. In this case <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">cur_xref</span></code> will be the head of the stack that we push things onto.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



 <p>repeat









until

</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>256. The following recursive procedure walks through the tree of module names and prints them.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>257. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>258. Debugging. The Pascal  debugger with which WEAVE was developed allows breakpoints to be set, and variables can be read and changed, but procedures cannot be executed. Therefore a ‘<code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">debug_help</span></code> ’ procedure has been inserted in the main loops of each phase of the program; when <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ddt</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">dd</span></code> are set to appropriate values, symbolic printouts of various tables will appear.</p> <p>The idea is to set a breakpoint inside the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">debug_help</span></code> routine, at the place of ‘<code></code> ’ below. Then when <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">debug_help</span></code> is to be activated, set <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">trouble_shooting</span></code> equal to <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">true</span></code> . The <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">debug_help</span></code> routine will prompt you for values of <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">ddt</span></code> and <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">dd</span></code> , discontinuing this when <code></code> ; thus you type <span class="canvas canvas-inline" style="width: 2.7764816rem; height: 0.9999985rem; padding-left: 0.01599884rem; vertical-align: -0.27399904rem"><span class="ci" style="top: -0.0000005364418rem; left: 0rem; font-size: 1rem; font-family: tdux1">2</span><span class="ci" style="top: -0.0000005364418rem; left: 0.5rem; font-size: 1rem; font-family: tdux1">𝑛</span><span class="ci" style="top: -0.0000005364418rem; left: 1.278241rem; font-size: 1rem; font-family: tdux1">+</span><span class="ci" style="top: -0.0000005364418rem; left: 2.2604828rem; font-size: 1rem; font-family: tdux1">1</span></span> integers, ending with zero or a negative number. Then control either passes to the breakpoint, allowing you to look at and/or change variables (if you typed zero), or to exit the routine (if you typed a negative value).</p> <p>Another global variable, <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">debug_cycle</span></code> , can be used to skip silently past calls on <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">debug_help</span></code> . If you set <code></code> , the program stops only every <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">debug_cycle</span></code> times <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">debug_help</span></code> is called; however, any error stop will set <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">debug_cycle</span></code> to zero.</p> <pre><code></code></pre></section><section class="ttweave-nonfirst"> <p>259. The debugging routine needs to read from the user’s terminal. <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>260. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">@define  breakpoint  =
     888  //  place  where  a  breakpoint  is  desirable</span></code></pre> <pre><code></code></pre></p></section> <section class="ttweave-nonfirst"> <p>261. The main program. Let’s put it all together now: WEAVE starts and ends here.</p> <p>The main procedure has been split into three sub-procedures in order to keep certain Pascal  compilers from overflowing their capacity.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">



</span></code></pre></section><section class="ttweave-nonfirst"> <p>262. <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">







</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>263. Some implementations may wish to pass the <code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)">history</span></code> value to the operating system so that it can be used to govern whether or not other programs are started. Here we simply report the history to the user.</p> <pre><code><span style="color:rgba(50,50,50,1.00);background-color:rgba(255,255,255,1.00)"> 
 <p>//  there  are  no  other  cases</span></code></pre></p></section> <section class="ttweave-nonfirst"> <p>264. System-dependent changes. This module should be replaced, if necessary, by changes to the program that are necessary to make WEAVE work at a particular installation. It is usually best to design your change file so that all changes to previous modules preserve the module numbering; then everybody’s version will be consistent with the printed program. More extensive changes, which introduce new modules, can be inserted here; then only the index itself will get a new module number.</p></section> <section class="ttweave-nonfirst"> <p>265. Index. If you have read and understood the code for Phase III above, you know what is in this index and how it got here. All modules in which an identifier is used are listed with that identifier, except that reserved words are indexed only when they appear in format definitions, and the appearances of identifiers in module names are not indexed. Underlined entries correspond to where the identifier was declared. Error messages, control sequences put into the output, and a few other things like “recursion” are indexed here too.</section>
        </main>
      </div>
    </div>
  </div>

  <script src="tdux-chrome.js" type="text/javascript" charset="utf-8"></script>
</body>

</html>